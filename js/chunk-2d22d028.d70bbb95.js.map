{"version":3,"sources":["webpack:///./src/views/examen/List.vue","webpack:///src/views/examen/List.vue","webpack:///./src/views/examen/List.vue?751c","webpack:///./src/views/examen/List.vue?8395"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","dni","expression","ref","attrs","domProps","on","$event","target","composing","get_list","type","indexOf","_k","keyCode","key","verCredenciales","_v","verExamen","watch_reloj","getResumenCredenciales","_s","getTotalCredenciales","getTotalCredencialesTotales","_l","listaDownloadCredenciales","item","i","nombre","count","countToTal","_e","dataList","staticStyle","modalidad","aula","asiento","base_photo","photo","is_register","item_selected","dialogConfirm","fecha_ingreso","scopedSlots","_u","fn","proxy","marcar_ingreso","model","callback","$$v","pabellonList","local","localSelected","get_full_name_colegios","getTotalPorLocalConteo","id","getTotalPorLocal","getAulasByLocal","item2","ii","class","total_asientos","staticRenderFns","data","ver_resumen","localList","aulastotalesList","dialogTiempoReal","computed","host","process","replace","length","total","forEach","element","watch","newValue","console","log","setTimeout","boton","document","getElementById","focus","mounted","$refs","txtdni","getLocales","getPabellones","methods","pabellon","find","row","pabellonId","filter","aulas","axios","get","then","resp","substring","params","error","getResumenAulas","loading","$vs","obj","post","notification","title","text","color","registro","index","findIndex","close","component"],"mappings":"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","file":"js/chunk-2d22d028.d70bbb95.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"m-2 flex justify-between flex-wrap\"},[_c('div',{staticClass:\"flex flex-col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dni),expression:\"dni\"}],ref:\"txtdni\",staticClass:\"p-3 bg-gray-100 rounded-xl\",attrs:{\"type\":\"number\",\"placeholder\":\"Dni\",\"maxlength\":\"8\"},domProps:{\"value\":(_vm.dni)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.dni=$event.target.value},function($event){return _vm.get_list()}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.get_list()}}})])]),_c('div',{staticClass:\"flex\"},[_c('vs-button',{on:{\"click\":function($event){_vm.verCredenciales = !_vm.verCredenciales}}},[_vm._v(\"Ver resumen de Credenciales\")]),_c('vs-button',{on:{\"click\":function($event){_vm.verExamen = true;\n      _vm.watch_reloj();}}},[_vm._v(\"Ver resumen entrada al examen\")])],1),(_vm.verCredenciales)?_c('div',{staticClass:\"flex flex-col p-2 bg-gray-100\"},[_c('div',{staticClass:\"flex\"},[_c('button',{staticClass:\"px-1 text-xs mr-2 focus:outline-none rounded-xl bg-gray-500 text-white\",on:{\"click\":function($event){return _vm.getResumenCredenciales()}}},[_vm._v(\"Actualizar\")]),_c('h1',{staticClass:\"text-lg font-medium\"},[_vm._v(\" Resumen de descargas de Credenciales \"+_vm._s(_vm.getTotalCredenciales)+\" / \"+_vm._s(_vm.getTotalCredencialesTotales)+\" \")])]),_c('div',{staticClass:\"flex flex-col\"},_vm._l((_vm.listaDownloadCredenciales),function(item,i){return _c('div',{key:i,staticClass:\"rounded-3xl my-2 flex flex-col text-left\"},[_c('span',{staticClass:\"text-sm font-medium\"},[_vm._v(\" \"+_vm._s(item.nombre)+\": \"),_c('b',{staticClass:\"text-sm px-1 bg-green-500 text-white\"},[_vm._v(_vm._s(item.count)+\" / \"+_vm._s(item.countToTal))])])])}),0)]):_vm._e(),_c('div',{staticClass:\"text-center flex flex-col lg:flex-row lg:flex-wrap\"},_vm._l((_vm.dataList),function(item,i){return _c('div',{key:i,staticClass:\"relative flex flex-col mx-2 border p-3 rounded-lg mt-2 lg:mt-0\"},[_c('div',{staticClass:\"flex flex-col text-left text-xs w-full\",staticStyle:{\"width\":\"240px !important\"}},[_c('div',{staticClass:\"mt-5 border border-black p-2 flex flex-col\"},[_c('span',{staticClass:\"text-lg text-center font-medium uppercase cursor-pointer\"},[_vm._v(_vm._s(`${item.nombre}`))]),_c('div',{staticClass:\"h-px bg-black\"}),_c('span',{staticClass:\"font-medium mt-2\"},[_c('i',{staticClass:\"fas fa-user text-green-500 mr-2\"}),_vm._v(\" \"+_vm._s(item.dni)+\" \")]),_c('span',{staticClass:\"flex flex-col\"},[_vm._v(\" Modalidad: \"),_c('span',{staticClass:\"font-bold text-lg\"},[_vm._v(_vm._s(item.modalidad))])]),_c('div',{staticClass:\"flex justify-between\"},[_c('span',[_vm._v(\" Aula: \"),_c('span',{staticClass:\"font-bold text-xl\"},[_vm._v(_vm._s(item.aula))])]),_c('span',[_vm._v(\" Asiento: \"),_c('span',{staticClass:\"font-bold text-xl\"},[_vm._v(_vm._s(item.asiento))])])]),_c('div',{staticClass:\"flex justify-center items-center text-center mt-2 cursor-pointer\"},[_c('img',{staticClass:\"foto\",attrs:{\"src\":`${_vm.base_photo}${item.photo}`}})]),_c('div',{staticClass:\"w-full mt-3\"},[(!item.is_register)?_c('vs-button',{staticClass:\"focus:outline-none w-full\",attrs:{\"danger\":\"\"},on:{\"click\":function($event){_vm.item_selected = item;\n_vm.dialogConfirm = true;}}},[_vm._v(\"Marcar Ingreso\")]):_vm._e(),(item.is_register)?_c('div',{staticClass:\"rounded-3xl bg-green-500 text-center p-2 text-white w-full\"},[_vm._v(_vm._s(item.fecha_ingreso))]):_vm._e()],1)])])])}),0),_c('vs-dialog',{staticClass:\"z-50\",attrs:{\"width\":\"550px\",\"not-center\":\"\",\"blur\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\" Registrar \"),_c('b',[_vm._v(\"Postulante\")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"flex justify-between\"},[_c('div'),_c('div',{staticClass:\"flex\"},[_c('vs-button',{attrs:{\"id\":\"btn_aceptar\",\"autofocus\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){return _vm.marcar_ingreso()}}},[_vm._v(\"Si\")]),_c('vs-button',{attrs:{\"dark\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){_vm.dialogConfirm = false}}},[_vm._v(\"Cancelar\")])],1)])]},proxy:true}]),model:{value:(_vm.dialogConfirm),callback:function ($$v) {_vm.dialogConfirm=$$v},expression:\"dialogConfirm\"}},[_c('div',{staticClass:\"con-content\"},[_c('p',[_vm._v(\" Esta seguro que desea registar al postulante? \"),_c('br')])])]),_c('vs-dialog',{attrs:{\"blur\":\"\",\"full-screen\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\"Datos en Tiempo Real\")])]},proxy:true}]),model:{value:(_vm.verExamen),callback:function ($$v) {_vm.verExamen=$$v},expression:\"verExamen\"}},[_c('div',{staticClass:\"con-content\"},[_c('div',_vm._l((_vm.pabellonList),function(local,i){return _c('div',{key:i,staticClass:\"my-2\"},[_c('b',{staticClass:\"text-xl cursor-pointer my-2\",on:{\"click\":function($event){_vm.localSelected = local}}},[_vm._v(_vm._s(i + 1)+\".- \"+_vm._s(_vm.get_full_name_colegios(local)))]),_c('b',{staticClass:\"text-xl rounded-xl text-blue-500 p-1\"},[_vm._v(\" \"+_vm._s(_vm.getTotalPorLocalConteo(local.id))+\" / \"+_vm._s(_vm.getTotalPorLocal(local.id))+\" \")])])}),0),(_vm.localSelected)?_c('div',{staticClass:\"flex flex-col p-2 bg-gray-100 mt-5 text-xs\"},[_c('b',{staticClass:\"text-blue-500 text-lg\"},[_vm._v(_vm._s(_vm.localSelected.nombre))]),_c('div',{staticClass:\"flex flex-wrap w-1/full h-96 lg:h-full overflow-scroll lg:overflow-hidden\"},_vm._l((_vm.getAulasByLocal(_vm.localSelected.id)),function(item2,ii){return _c('ul',{key:ii,staticClass:\"flex flex-wrap mx-2\"},[_c('li',{staticClass:\"my-3 bg-gray-200 p-2 rounded-xl\"},[_c('span',[_c('b',{staticClass:\"font-bold text-lg\"},[_vm._v(_vm._s(item2.aula))])]),_c('span',{staticClass:\"p-1 text-lg text-white rounded-lg ml-2\",class:item2.count >= item2.total_asientos\n                      ? 'bg-green-500'\n                      : 'bg-red-400'},[_c('b',[_vm._v(_vm._s(item2.count))]),_vm._v(\" / \"),_c('b',[_vm._v(_vm._s(item2.total_asientos))])])])])}),0)]):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"m-2 flex justify-between flex-wrap\">\n      <div class=\"flex flex-col\">\n        <input\n          ref=\"txtdni\"\n          type=\"number\"\n          class=\"p-3 bg-gray-100 rounded-xl\"\n          placeholder=\"Dni\"\n          maxlength=\"8\"\n          v-model=\"dni\"\n          @input=\"get_list()\"\n          @keyup.enter=\"get_list()\"\n        />\n      </div>\n    </div>\n\n    <div class=\"flex\">\n      <vs-button @click=\"verCredenciales = !verCredenciales\">Ver resumen de Credenciales</vs-button>\n\n      <vs-button @click=\"\n        verExamen = true;\n      watch_reloj();\n      \">Ver resumen entrada al examen</vs-button>\n    </div>\n\n    <div v-if=\"verCredenciales\" class=\"flex flex-col p-2 bg-gray-100\">\n      <div class=\"flex\">\n        <button\n          @click=\"getResumenCredenciales()\"\n          class=\"px-1 text-xs mr-2 focus:outline-none rounded-xl bg-gray-500 text-white\"\n        >Actualizar</button>\n\n        <h1 class=\"text-lg font-medium\">\n          Resumen de descargas de Credenciales {{ getTotalCredenciales }} /\n          {{ getTotalCredencialesTotales }}\n        </h1>\n      </div>\n\n      <div class=\"flex flex-col\">\n        <div\n          class=\"rounded-3xl my-2 flex flex-col text-left\"\n          v-for=\"(item, i) in listaDownloadCredenciales\"\n          :key=\"i\"\n        >\n          <span class=\"text-sm font-medium\">\n            {{ item.nombre }}:\n            <b\n              class=\"text-sm px-1 bg-green-500 text-white\"\n            >{{ item.count }} / {{ item.countToTal }}</b>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"text-center flex flex-col lg:flex-row lg:flex-wrap\">\n      <div\n        class=\"relative flex flex-col mx-2 border p-3 rounded-lg mt-2 lg:mt-0\"\n        v-for=\"(item, i) in dataList\"\n        :key=\"i\"\n      >\n        <div class=\"flex flex-col text-left text-xs w-full\" style=\"width: 240px !important;\">\n          <div class=\"mt-5 border border-black p-2 flex flex-col\">\n            <span\n              class=\"text-lg text-center font-medium uppercase cursor-pointer\"\n            >{{ `${item.nombre}` }}</span>\n\n            <div class=\"h-px bg-black\"></div>\n\n            <span class=\"font-medium mt-2\">\n              <i class=\"fas fa-user text-green-500 mr-2\"></i>\n              {{ item.dni }}\n            </span>\n\n            <span class=\"flex flex-col\">\n              Modalidad:\n              <span class=\"font-bold text-lg\">{{ item.modalidad }}</span>\n            </span>\n\n            <div class=\"flex justify-between\">\n              <span>\n                Aula:\n                <span class=\"font-bold text-xl\">{{ item.aula }}</span>\n              </span>\n\n              <span>\n                Asiento:\n                <span class=\"font-bold text-xl\">{{ item.asiento }}</span>\n              </span>\n            </div>\n\n            <div class=\"flex justify-center items-center text-center mt-2 cursor-pointer\">\n              <img :src=\"`${base_photo}${item.photo}`\" class=\"foto\" />\n            </div>\n\n            <div class=\"w-full mt-3\">\n              <vs-button\n                v-if=\"!item.is_register\"\n                danger\n                class=\"focus:outline-none w-full\"\n                @click=\"\n  item_selected = item;\ndialogConfirm = true;\n                \"\n              >Marcar Ingreso</vs-button>\n\n              <div\n                class=\"rounded-3xl bg-green-500 text-center p-2 text-white w-full\"\n                v-if=\"item.is_register\"\n              >{{ item.fecha_ingreso }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <vs-dialog width=\"550px\" not-center blur v-model=\"dialogConfirm\" class=\"z-50\">\n      <template #header>\n        <h4 class=\"not-margin\">\n          Registrar\n          <b>Postulante</b>\n        </h4>\n      </template>\n\n      <div class=\"con-content\">\n        <p>\n          Esta seguro que desea registar al postulante?\n          <br />\n        </p>\n      </div>\n\n      <template #footer>\n        <div class=\"flex justify-between\">\n          <div></div>\n          <div class=\"flex\">\n            <vs-button id=\"btn_aceptar\" autofocus @click=\"marcar_ingreso()\" transparent>Si</vs-button>\n            <vs-button @click=\"dialogConfirm = false\" dark transparent>Cancelar</vs-button>\n          </div>\n        </div>\n      </template>\n    </vs-dialog>\n\n    <!-- modal -->\n\n    <vs-dialog blur v-model=\"verExamen\" full-screen>\n      <template #header>\n        <h4 class=\"not-margin\">Datos en Tiempo Real</h4>\n      </template>\n\n      <div class=\"con-content\">\n        <div>\n          <div v-for=\"(local, i) in pabellonList\" :key=\"i\" class=\"my-2\">\n            <b\n              class=\"text-xl cursor-pointer my-2\"\n              @click=\"localSelected = local\"\n            >{{ i + 1 }}.- {{ get_full_name_colegios(local) }}</b>\n\n            <b class=\"text-xl rounded-xl text-blue-500 p-1\">\n              {{ getTotalPorLocalConteo(local.id) }} /\n              {{ getTotalPorLocal(local.id) }}\n            </b>\n          </div>\n        </div>\n\n        <div v-if=\"localSelected\" class=\"flex flex-col p-2 bg-gray-100 mt-5 text-xs\">\n          <b class=\"text-blue-500 text-lg\">{{ localSelected.nombre }}</b>\n\n          <div class=\"flex flex-wrap w-1/full h-96 lg:h-full overflow-scroll lg:overflow-hidden\">\n            <ul\n              class=\"flex flex-wrap mx-2\"\n              v-for=\"(item2, ii) in getAulasByLocal(localSelected.id)\"\n              :key=\"ii\"\n            >\n              <li class=\"my-3 bg-gray-200 p-2 rounded-xl\">\n                <span>\n                  <b class=\"font-bold text-lg\">{{ item2.aula }}</b>\n                </span>\n                <span\n                  class=\"p-1 text-lg text-white rounded-lg ml-2\"\n                  :class=\"\n                    item2.count >= item2.total_asientos\n                      ? 'bg-green-500'\n                      : 'bg-red-400'\n                  \"\n                >\n                  <b>{{ item2.count }}</b> /\n                  <b>{{ item2.total_asientos }}</b>\n                </span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </vs-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from \"@//plugins//axios.js\";\nexport default {\n  data() {\n    return {\n      dni: \"\",\n      dataList: [],\n      dialogConfirm: false,\n      item_selected: {},\n      listaDownloadCredenciales: [],\n      ver_resumen: false,\n      localList: [],\n      pabellonList: [],\n      aulastotalesList: [],\n      dialogTiempoReal: false,\n      verCredenciales: false,\n      verExamen: false,\n      localSelected: null,\n    };\n  },\n\n  computed: {\n    base_photo() {\n      let host =\n        process.env.NODE_ENV == \"development\"\n          ? process.env.VUE_APP_BASE_URL\n          : process.env.VUE_APP_URL;\n\n      host = host.replace(\"/api/v1/\", \"/media/\");\n      return host;\n    },\n\n    getTotalCredenciales() {\n      if (this.listaDownloadCredenciales.length <= 0) return 0;\n      let total = 0;\n      this.listaDownloadCredenciales.forEach((element) => {\n        total += element.count;\n      });\n\n      return total;\n    },\n\n    getTotalCredencialesTotales() {\n      if (this.listaDownloadCredenciales.length <= 0) return 0;\n      let total = 0;\n      this.listaDownloadCredenciales.forEach((element) => {\n        total += element.countToTal;\n      });\n\n      return total;\n    },     \n  },\n\n  watch: {\n    verExamen(newValue) {\n      if (!newValue) {\n        console.log(\"saliendo\");\n      }\n    },\n\n    dialogConfirm(newValue) {\n      if (newValue) {\n        setTimeout(() => {\n          let boton = document.getElementById(\"btn_aceptar\");\n          boton.focus();\n        }, 100);\n      }\n    },\n\n    ver_resumen(newValue) {\n      if (newValue) {\n        this.getResumenCredenciales();\n      }\n    },\n  },\n\n  mounted() {\n    this.get_list();\n    this.getResumenCredenciales();\n\n    setTimeout(() => {\n      this.$refs.txtdni.focus();\n    }, 10);\n\n    this.getLocales();\n    this.getPabellones();\n\n    // this.watch_reloj();\n  },\n\n  methods: {\n    get_full_name_colegios(pabellon){       \n      const local = this.localList.find(row=>row.id === pabellon.local)\n      return local.nombre  + ' - ' + pabellon.nombre\n    },\n    \n    getTotalPorLocalConteo(pabellonId) {\n      const data = this.aulastotalesList.filter(\n        (item) => item.pabellonId == pabellonId\n      );\n\n      let total = 0;\n      data.forEach((element) => {\n        total += element.count;\n      });\n\n      return total;\n    },\n\n    getTotalPorLocal(pabellonId) {\n      const data = this.aulastotalesList.filter(\n        (item) => item.pabellonId == pabellonId\n      );\n\n      let total = 0;\n      data.forEach((element) => {\n        total += element.total_asientos;\n      });\n\n      return total;\n    },\n\n    getAulasByLocal(pabellonId) {\n      const aulas = this.aulastotalesList.filter(\n        (item) => item.pabellonId == pabellonId\n      );\n\n      return aulas;\n    },\n\n    async getLocales() {\n      const { data } = await axios.get(\"local\");\n      this.localList = data;\n    },\n\n    async getPabellones() {\n      const { data } = await axios.get(\"pabellon\");\n      this.pabellonList = data;\n    },\n\n    async getResumenAulas() {\n      const { data } = await axios.get(\"get_resumen_aulas\");\n      this.aulastotalesList = data;\n    },\n\n    getResumenCredenciales() {\n      axios.get(\"getResumenCredenciales\").then((resp) => {\n        this.listaDownloadCredenciales = resp.data;\n      });\n    },\n\n    get_list() {\n      try {\n        const dni = this.dni;\n        // if dni > 8 digitos, dejar solo los primeros 8 digitos\n        if (dni.length > 8) {\n          this.dni = dni.substring(0, 8);\n        }\n\n        if (dni.length == 0 || dni.length >= 8) {\n          axios\n            .get(\"get_list_postulante_ingresos\", {\n              params: {\n                dni,\n              },\n            })\n            .then((resp) => {\n              this.dataList = resp.data;\n\n              if (this.dataList.length == 1) {\n                this.item_selected = this.dataList[0];\n                this.marcar_ingreso();\n                this.dni = \"\";\n                setTimeout(() => {\n                  this.$refs.txtdni.focus();\n                }, 100);\n              }\n              this.getResumenCredenciales();\n            });\n        }\n      } catch (error) {\n        //\n      }\n    },\n\n    async watch_reloj() {\n      try {\n        await axios.get(\"watch_reloj\");\n        this.getResumenAulas();\n\n        if (this.verExamen) {\n          setTimeout(() => {\n            console.log(\"consultando...\");\n            this.watch_reloj();\n          }, 1000);\n        }\n      } catch (error) {\n        //\n      }\n    },\n\n    async marcar_ingreso() {\n      if (this.dni.length <= 0) return;\n\n      const loading = this.$vs.loading();\n      try {\n        let obj = {\n          id: this.item_selected.id,\n        };\n        const { data } = await axios.post(\"marcar_ingreso_by_id/\", obj);\n\n        if (data.length <= 0) {\n          this.$vs.notification({\n            title: \"Examen\",\n            text: \"Ocurrio un problema al registrar al postulante! 😢\",\n            color: \"warning\",\n          });\n          return;\n        }\n\n        const registro = data[0];\n\n        const index = this.dataList.findIndex((item) => item.id == registro.id);\n\n        if (index > -1) {\n          this.dataList[index] = registro;\n\n          this.$vs.notification({\n            title: \"Examen\",\n            text: \"El postulante fué registrado correctamente! 😎\",\n            color: \"success\",\n          });\n        } else {\n          this.$vs.notification({\n            title: \"Examen\",\n            text: \"No se encontró el registro! 😢\",\n            color: \"warning\",\n          });\n        }\n\n        this.getResumenCredenciales();\n      } catch (error) {\n        //\n        this.$vs.notification({\n          title: \"Examen\",\n          text: \"Ocurrio un error al registrar al postulante! 😢\",\n          color: \"danger\",\n        });\n      } finally {\n        loading.close();\n        this.dialogConfirm = false;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.foto {\n  width: 240px !important;\n.foto {\n  width: 240px !important;\n  height: 288px !important;\n}\n.foto {\n  width: 240px !important;\n  height: 288px !important;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=46a9246a&scoped=true\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46a9246a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}