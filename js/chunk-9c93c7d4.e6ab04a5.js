(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c93c7d4"],{"25f0":function(e,t,o){"use strict";var a=o("6eeb"),n=o("825a"),i=o("d039"),s=o("ad6d"),r="toString",d=RegExp.prototype,c=d[r],l=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=r;(l||u)&&a(RegExp.prototype,r,(function(){var e=n(this),t=String(e.source),o=e.flags,a=String(void 0===o&&e instanceof RegExp&&!("flags"in d)?s.call(e):o);return"/"+t+"/"+a}),{unsafe:!0})},cb89:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("vs-dialog",{attrs:{"prevent-close":""},scopedSlots:e._u([{key:"header",fn:function(){return[o("span",[e._v("Registro de pagos")])]},proxy:!0},{key:"footer",fn:function(){return[o("div",{staticClass:"flex justify-between focus:outline-none"},[o("div",{staticClass:" flex"},[e.id&&"administrador"==e.get_auth.group?o("vs-button",{staticClass:"focus:outline-none",attrs:{danger:""},on:{click:e.delete_item}},[e._v(" Eliminar ")]):e._e(),e.id&&(e.is_exonerado||e.is_donacion)?o("vs-button",{attrs:{border:"",dark:""},on:{click:function(t){return e.printExonerado(e.id)}}},[e._v(" Imprimir ")]):e._e()],1),o("div",{staticClass:"flex"},[o("vs-button",{staticClass:"focus:outline-none",on:{click:e.save}},[e._v(" Guardar ")]),o("vs-button",{staticClass:"focus:outline-none",attrs:{dark:"",transparent:""},on:{click:e.exit}},[e._v(" Cancelar ")])],1)])]},proxy:!0}]),model:{value:e.dialogLocal,callback:function(t){e.dialogLocal=t},expression:"dialogLocal"}},[o("section",[o("div",[o("span",[e._v("Dni:")]),o("vs-input",{ref:"txtdni",attrs:{id:"txtdni"},model:{value:e.num_doc,callback:function(t){e.num_doc=t},expression:"num_doc"}})],1),o("div",{staticClass:"mt-2"},[o("span",[e._v("Num. Operaci√≥n:")]),o("vs-input",{attrs:{type:"number"},model:{value:e.num_operacion,callback:function(t){e.num_operacion=t},expression:"num_operacion"}})],1),o("div",{staticClass:"mt-2"},[o("span",[e._v("Fecha:")]),o("vs-input",{attrs:{type:"date"},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1),o("div",{staticClass:" flex flex-col mt-2"},[o("span",[e._v("Nombre:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],staticClass:" p-3 bg-gray-100 rounded-2xl",domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),o("div",{staticClass:"flex justify-between"},[o("div",{staticClass:"mt-2"},[o("span",[e._v("Monto:")]),o("vs-input",{attrs:{type:"number"},model:{value:e.monto,callback:function(t){e.monto=t},expression:"monto"}})],1),o("div",{staticClass:"mt-2"},[o("span",[e._v("Monto 2:")]),o("vs-input",{attrs:{disabled:!0,type:"number"},model:{value:e.monto_full,callback:function(t){e.monto_full=t},expression:"monto_full"}})],1)]),o("div",{staticClass:" mt-2"},[o("vs-checkbox",{staticClass:" font-medium",model:{value:e.asosiado,callback:function(t){e.asosiado=t},expression:"asosiado"}},[e._v(" Es Asosiado ")]),o("span",{staticClass:" text-xs"},[e._v("(Los pagos soportar√°n la mitad de los precios si es asosiado a la universidad)")])],1),o("div",{staticClass:" mt-2"},[o("vs-checkbox",{staticClass:" font-medium",model:{value:e.is_donacion,callback:function(t){e.is_donacion=t},expression:"is_donacion"}},[e._v(" Es Donaci√≥n ")])],1),o("div",{staticClass:" mt-5"},[o("span",{staticClass:" text-2xl font-medium text-blue-500"},[e._v("Datos Exonerado")]),o("div",{staticClass:" mt-2"},[o("vs-checkbox",{staticClass:" font-medium",model:{value:e.is_exonerado,callback:function(t){e.is_exonerado=t},expression:"is_exonerado"}},[e._v(" Es Exonerado ")])],1),o("div",{staticClass:" flex flex-col mt-2"},[o("span",[e._v("Documento Referencial:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.documento_referencial,expression:"documento_referencial"}],staticClass:" p-3 bg-gray-100 rounded-2xl",domProps:{value:e.documento_referencial},on:{input:function(t){t.target.composing||(e.documento_referencial=t.target.value)}}})]),o("div",{staticClass:" w-full"},[o("span",{staticClass:" text-xs"},[e._v("Modalidad")]),o("v-select",{attrs:{options:e.modalidad_data,label:"nombre",index:"id"},model:{value:e.modalidad,callback:function(t){e.modalidad=t},expression:"modalidad"}})],1)])])])},n=[],i=(o("7db0"),o("fb6a"),o("d3b7"),o("25f0"),o("96cf"),o("1da1")),s=o("be3b"),r={props:{dialog:{type:Boolean},item_selected:{type:Object,default:function(){return{}}}},data:function(){return{dialogLocal:!1,num_doc:"",num_operacion:"",nombre:"",monto:0,monto_full:0,id:0,is_exonerado:!0,documento_referencial:"",fecha:"",modalidad:{},modalidad_data:[],asosiado:!1,is_donacion:!1,is_extemporaneo:!1,admisionData:{}}},watch:{dialog:function(e){var t=this;if(this.dialogLocal=e,e){if(this.clearData(),this.is_exonerado=!0,setTimeout((function(){document.getElementById("vs-input--txtdni").focus()}),100),this.getAdmision(),this.set_modalidad(),this.id=this.item_selected.id,this.fecha=(new Date).toISOString().slice(0,10),!this.id)return;this.$store.dispatch("pago/set_pago_banco_by_id",this.id).then((function(e){t.id?t.is_exonerado=e.is_exonerado:t.is_exonerado=!0,t.num_doc=e.num_doc,t.num_operacion=e.num_operacion,t.nombre=e.nombre,t.monto=e.monto,t.fecha=e.fecha,t.asosiado=e.asosiado,t.is_donacion=e.is_donacion,t.monto_full=e.monto_full,t.is_extemporaneo=e.is_extemporaneo,t.modalidad_data.length<=0?t.set_modalidad().then((function(){t.modalidad=t.modalidad_data.find((function(t){return t.id==e.modalidad}))})):t.modalidad=t.modalidad_data.find((function(t){return t.id==e.modalidad})),t.documento_referencial=e.documento_referencial}))}},dialogLocal:function(e){e||this.$emit("closedialog")},is_exonerado:function(e){e&&(this.asosiado=!1,this.is_donacion=!1,this.monto=0)},asosiado:function(e){e&&(this.is_exonerado=!1,this.is_donacion=!1)},is_donacion:function(e){e&&(this.is_exonerado=!1,this.asosiado=!1)}},computed:{get_auth:function(){return this.$store.getters["auth/get_auth"]}},methods:{set_modalidad:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,o=e.$store.getters["modalidad/get_modalidad"],!(o.length<=0)){t.next=5;break}return t.next=5,e.$store.dispatch("modalidad/set_modalidad").then((function(e){o=e}));case 5:e.modalidad_data=o,t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},printExonerado:function(e){if(this.is_exonerado||this.is_donacion){var t=this.$router.resolve("/reporte_exonerado/".concat(e));window.open(t.href,"_blank")}},delete_item:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=8;break}return t.next=3,s["a"].delete("pagos_banko/".concat(e.id));case 3:o=t.sent,a=o.status,204==a?e.$vs.notification({title:"Registro de Pagos",text:"Eliminado correctamente! üòé",color:"success"}):e.$vs.notification({title:"Registro de Pagos",text:"No se pudo eliminar! üò¢",color:"danger"}),e.$emit("actualizar"),e.exit();case 8:case"end":return t.stop()}}),t)})))()},activarDesactivarBoolens:function(){this.asosiado&&(this.is_exonerado=!1,this.is_donacion=!1),this.is_exonerado&&(this.asosiado=!1,this.is_donacion=!1),this.is_donacion&&(this.asosiado=!1,this.is_exonerado=!1)},validar:function(){return!(this.num_doc.length<8||this.num_operacion.length<5||this.nombre.length<10||this.monto.toString().length<3)},getAdmision:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.item_selected.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s["a"].get("admision");case 4:o=t.sent,a=o.data,e.admisionData=a[0],n=e.admisionData.fechaExtemporaneo,i=Date().now,n==i&&(e.is_extemporaneo=!0);case 10:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validar){t.next=2;break}return t.abrupt("return");case 2:if(o="","sede"==e.get_auth.group&&(o=e.get_auth.username),e.asosiado&&(e.is_exonerado=!1,e.is_donacion=!1),e.is_exonerado&&(e.asosiado=!1,e.is_donacion=!1),e.is_donacion&&(e.asosiado=!1,e.is_exonerado=!1),a={dni:e.num_doc,num_ticket:e.num_operacion,monto:e.monto,id:e.id,nombre:e.nombre,is_exonerado:e.is_exonerado,documento_referencial:e.documento_referencial,modalidad:e.modalidad?e.modalidad.id:null,asosiado:e.asosiado,fecha:e.fecha,sede:o,is_donacion:e.is_donacion,monto_full:e.monto,is_extemporaneo:e.is_extemporaneo},t.prev=8,n=null,!e.id){t.next=17;break}return delete a.sede,delete a.monto_full,t.next=15,e.$store.dispatch("pago/update_pago",[a]).then((function(e){n=e}));case 15:t.next=20;break;case 17:return a.fecha=e.fecha,t.next=20,e.$store.dispatch("pago/add_pago",[a]).then((function(e){n=e}));case 20:if(null==n){t.next=30;break}if("exonerado-repetido"!=n){t.next=24;break}return e.$vs.notification({title:"Registro de Pagos",text:"Ya existe un pago con el mismo dni en la modalidad de exonerado! ü§¶‚Äç‚ôÄÔ∏è",color:"danger"}),t.abrupt("return");case 24:e.$vs.notification({title:"Registro de Pagos",text:"Los cambios se guardaron correctamente! üòé",color:"success"}),e.printExonerado(n[0].id),e.$emit("actualizar"),e.exit(),t.next=31;break;case 30:e.$vs.notification({title:"Registro de Pagos",text:"No se pudo realizar los cambios! üò¢",color:"danger"});case 31:t.next=36;break;case 33:t.prev=33,t.t0=t["catch"](8),e.$vs.notification({title:"Registro de Pagos",text:"Ocurrio un error! üò¢",color:"danger"});case 36:case"end":return t.stop()}}),t,null,[[8,33]])})))()},exit:function(){this.$emit("closedialog"),this.dialogLocal=!1},clearData:function(){this.num_doc="",this.num_operacion="",this.nombre="",this.monto=0,this.monto_full=0,this.id=0,this.is_exonerado=!1,this.documento_referencial="",this.fecha="",this.modalidad={}}}},d=r,c=o("2877"),l=Object(c["a"])(d,a,n,!1,null,"ddb0b870",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-9c93c7d4.e6ab04a5.js.map