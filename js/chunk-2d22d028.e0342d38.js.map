{"version":3,"sources":["webpack:///./src/views/examen/List.vue","webpack:///src/views/examen/List.vue","webpack:///./src/views/examen/List.vue?751c","webpack:///./src/views/examen/List.vue?8395"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","dni","expression","ref","attrs","domProps","on","$event","target","composing","get_list","type","indexOf","_k","keyCode","key","verCredenciales","_v","verExamen","watch_reloj","getResumenCredenciales","_s","getTotalCredenciales","getTotalCredencialesTotales","_l","listaDownloadCredenciales","item","i","nombre","count","countToTal","_e","dataList","staticStyle","modalidad","aula","asiento","base_photo","photo","is_register","item_selected","dialogConfirm","fecha_ingreso","scopedSlots","_u","fn","proxy","marcar_ingreso","model","callback","$$v","pabellonList","local","localSelected","get_full_name_colegios","getTotalPorLocalConteo","id","getTotalPorLocal","getAulasByLocal","item2","ii","class","total_asientos","staticRenderFns","data","ver_resumen","localList","aulastotalesList","dialogTiempoReal","computed","host","process","replace","length","total","forEach","element","watch","newValue","console","log","setTimeout","boton","document","getElementById","focus","mounted","$refs","txtdni","getLocales","getPabellones","methods","pabellon","find","row","pabellonId","filter","aulas","axios","get","then","resp","substring","params","error","getResumenAulas","loading","$vs","obj","post","notification","title","text","color","registro","index","findIndex","close","component"],"mappings":"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","file":"js/chunk-2d22d028.e0342d38.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"m-2 flex justify-between flex-wrap\"},[_c('div',{staticClass:\"flex flex-col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dni),expression:\"dni\"}],ref:\"txtdni\",staticClass:\"p-3 bg-gray-100 rounded-xl\",attrs:{\"type\":\"number\",\"placeholder\":\"Dni\",\"maxlength\":\"8\"},domProps:{\"value\":(_vm.dni)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.dni=$event.target.value},function($event){return _vm.get_list()}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.get_list()}}})])]),_c('div',{staticClass:\"flex\"},[_c('vs-button',{on:{\"click\":function($event){_vm.verCredenciales = !_vm.verCredenciales}}},[_vm._v(\"Ver resumen de Credenciales\")]),_c('vs-button',{on:{\"click\":function($event){_vm.verExamen = true;\n      _vm.watch_reloj();}}},[_vm._v(\"Ver resumen entrada al examen\")])],1),(_vm.verCredenciales)?_c('div',{staticClass:\"flex flex-col p-2 bg-gray-100\"},[_c('div',{staticClass:\"flex\"},[_c('button',{staticClass:\"px-1 text-xs mr-2 focus:outline-none rounded-xl bg-gray-500 text-white\",on:{\"click\":function($event){return _vm.getResumenCredenciales()}}},[_vm._v(\"Actualizar\")]),_c('h1',{staticClass:\"text-lg font-medium\"},[_vm._v(\" Resumen de descargas de Credenciales \"+_vm._s(_vm.getTotalCredenciales)+\" / \"+_vm._s(_vm.getTotalCredencialesTotales)+\" \")])]),_c('div',{staticClass:\"flex flex-col\"},_vm._l((_vm.listaDownloadCredenciales),function(item,i){return _c('div',{key:i,staticClass:\"rounded-3xl my-2 flex flex-col text-left\"},[_c('span',{staticClass:\"text-sm font-medium\"},[_vm._v(\" \"+_vm._s(item.nombre)+\": \"),_c('b',{staticClass:\"text-sm px-1 bg-green-500 text-white\"},[_vm._v(_vm._s(item.count)+\" / \"+_vm._s(item.countToTal))])])])}),0)]):_vm._e(),_c('div',{staticClass:\"text-center flex flex-col lg:flex-row lg:flex-wrap\"},_vm._l((_vm.dataList),function(item,i){return _c('div',{key:i,staticClass:\"relative flex flex-col mx-2 border p-3 rounded-lg mt-2 lg:mt-0\"},[_c('div',{staticClass:\"flex flex-col text-left text-xs w-full\",staticStyle:{\"width\":\"240px !important\"}},[_c('div',{staticClass:\"mt-5 border border-black p-2 flex flex-col\"},[_c('span',{staticClass:\"text-lg text-center font-medium uppercase cursor-pointer\"},[_vm._v(_vm._s(`${item.nombre}`))]),_c('div',{staticClass:\"h-px bg-black\"}),_c('span',{staticClass:\"font-medium mt-2\"},[_c('i',{staticClass:\"fas fa-user text-green-500 mr-2\"}),_vm._v(\" \"+_vm._s(item.dni)+\" \")]),_c('span',{staticClass:\"flex flex-col\"},[_vm._v(\" Modalidad: \"),_c('span',{staticClass:\"font-bold text-lg\"},[_vm._v(_vm._s(item.modalidad))])]),_c('div',{staticClass:\"flex justify-between\"},[_c('span',[_vm._v(\" Aula: \"),_c('span',{staticClass:\"font-bold text-xl\"},[_vm._v(_vm._s(item.aula))])]),_c('span',[_vm._v(\" Asiento: \"),_c('span',{staticClass:\"font-bold text-xl\"},[_vm._v(_vm._s(item.asiento))])])]),_c('div',{staticClass:\"flex justify-center items-center text-center mt-2 cursor-pointer\"},[_c('img',{staticClass:\"foto\",attrs:{\"src\":`${_vm.base_photo}${item.photo}`}})]),_c('div',{staticClass:\"w-full mt-3\"},[(!item.is_register)?_c('vs-button',{staticClass:\"focus:outline-none w-full\",attrs:{\"danger\":\"\"},on:{\"click\":function($event){_vm.item_selected = item;\n_vm.dialogConfirm = true;}}},[_vm._v(\"Marcar Ingreso\")]):_vm._e(),(item.is_register)?_c('div',{staticClass:\"rounded-3xl bg-green-500 text-center p-2 text-white w-full\"},[_vm._v(_vm._s(item.fecha_ingreso))]):_vm._e()],1)])])])}),0),_c('vs-dialog',{staticClass:\"z-50\",attrs:{\"width\":\"550px\",\"not-center\":\"\",\"blur\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\" Registrar \"),_c('b',[_vm._v(\"Postulante\")])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"flex justify-between\"},[_c('div'),_c('div',{staticClass:\"flex\"},[_c('vs-button',{attrs:{\"id\":\"btn_aceptar\",\"autofocus\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){return _vm.marcar_ingreso()}}},[_vm._v(\"Si\")]),_c('vs-button',{attrs:{\"dark\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){_vm.dialogConfirm = false}}},[_vm._v(\"Cancelar\")])],1)])]},proxy:true}]),model:{value:(_vm.dialogConfirm),callback:function ($$v) {_vm.dialogConfirm=$$v},expression:\"dialogConfirm\"}},[_c('div',{staticClass:\"con-content\"},[_c('p',[_vm._v(\" Esta seguro que desea registar al postulante? \"),_c('br')])])]),_c('vs-dialog',{attrs:{\"blur\":\"\",\"full-screen\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\"Datos en Tiempo Real\")])]},proxy:true}]),model:{value:(_vm.verExamen),callback:function ($$v) {_vm.verExamen=$$v},expression:\"verExamen\"}},[_c('div',{staticClass:\"con-content\"},[_c('div',_vm._l((_vm.pabellonList),function(local,i){return _c('div',{key:i,staticClass:\"my-2\"},[_c('b',{staticClass:\"text-xl cursor-pointer my-2\",on:{\"click\":function($event){_vm.localSelected = local}}},[_vm._v(_vm._s(i + 1)+\".- \"+_vm._s(_vm.get_full_name_colegios(local)))]),_c('b',{staticClass:\"text-xl rounded-xl text-blue-500 p-1\"},[_vm._v(\" \"+_vm._s(_vm.getTotalPorLocalConteo(local.id))+\" / \"+_vm._s(_vm.getTotalPorLocal(local.id))+\" \")])])}),0),(_vm.localSelected)?_c('div',{staticClass:\"flex flex-col p-2 bg-gray-100 mt-5 text-xs\"},[_c('b',{staticClass:\"text-blue-500 text-lg\"},[_vm._v(_vm._s(_vm.localSelected.nombre))]),_c('div',{staticClass:\"flex flex-wrap w-1/full h-96 lg:h-full overflow-scroll lg:overflow-hidden\"},_vm._l((_vm.getAulasByLocal(_vm.localSelected.id)),function(item2,ii){return _c('ul',{key:ii,staticClass:\"flex flex-wrap mx-2\"},[_c('li',{staticClass:\"my-3 bg-gray-200 p-2 rounded-xl\"},[_c('span',[_c('b',{staticClass:\"font-bold text-lg\"},[_vm._v(_vm._s(item2.aula))])]),_c('span',{staticClass:\"p-1 text-lg text-white rounded-lg ml-2\",class:item2.count >= item2.total_asientos\n                      ? 'bg-green-500'\n                      : 'bg-red-400'},[_c('b',[_vm._v(_vm._s(item2.count))]),_vm._v(\" / \"),_c('b',[_vm._v(_vm._s(item2.total_asientos))])])])])}),0)]):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex flex-col\">\r\n    <div class=\"m-2 flex justify-between flex-wrap\">\r\n      <div class=\"flex flex-col\">\r\n        <input\r\n          ref=\"txtdni\"\r\n          type=\"number\"\r\n          class=\"p-3 bg-gray-100 rounded-xl\"\r\n          placeholder=\"Dni\"\r\n          maxlength=\"8\"\r\n          v-model=\"dni\"\r\n          @input=\"get_list()\"\r\n          @keyup.enter=\"get_list()\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex\">\r\n      <vs-button @click=\"verCredenciales = !verCredenciales\">Ver resumen de Credenciales</vs-button>\r\n\r\n      <vs-button @click=\"\r\n        verExamen = true;\r\n      watch_reloj();\r\n      \">Ver resumen entrada al examen</vs-button>\r\n    </div>\r\n\r\n    <div v-if=\"verCredenciales\" class=\"flex flex-col p-2 bg-gray-100\">\r\n      <div class=\"flex\">\r\n        <button\r\n          @click=\"getResumenCredenciales()\"\r\n          class=\"px-1 text-xs mr-2 focus:outline-none rounded-xl bg-gray-500 text-white\"\r\n        >Actualizar</button>\r\n\r\n        <h1 class=\"text-lg font-medium\">\r\n          Resumen de descargas de Credenciales {{ getTotalCredenciales }} /\r\n          {{ getTotalCredencialesTotales }}\r\n        </h1>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col\">\r\n        <div\r\n          class=\"rounded-3xl my-2 flex flex-col text-left\"\r\n          v-for=\"(item, i) in listaDownloadCredenciales\"\r\n          :key=\"i\"\r\n        >\r\n          <span class=\"text-sm font-medium\">\r\n            {{ item.nombre }}:\r\n            <b\r\n              class=\"text-sm px-1 bg-green-500 text-white\"\r\n            >{{ item.count }} / {{ item.countToTal }}</b>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text-center flex flex-col lg:flex-row lg:flex-wrap\">\r\n      <div\r\n        class=\"relative flex flex-col mx-2 border p-3 rounded-lg mt-2 lg:mt-0\"\r\n        v-for=\"(item, i) in dataList\"\r\n        :key=\"i\"\r\n      >\r\n        <div class=\"flex flex-col text-left text-xs w-full\" style=\"width: 240px !important;\">\r\n          <div class=\"mt-5 border border-black p-2 flex flex-col\">\r\n            <span\r\n              class=\"text-lg text-center font-medium uppercase cursor-pointer\"\r\n            >{{ `${item.nombre}` }}</span>\r\n\r\n            <div class=\"h-px bg-black\"></div>\r\n\r\n            <span class=\"font-medium mt-2\">\r\n              <i class=\"fas fa-user text-green-500 mr-2\"></i>\r\n              {{ item.dni }}\r\n            </span>\r\n\r\n            <span class=\"flex flex-col\">\r\n              Modalidad:\r\n              <span class=\"font-bold text-lg\">{{ item.modalidad }}</span>\r\n            </span>\r\n\r\n            <div class=\"flex justify-between\">\r\n              <span>\r\n                Aula:\r\n                <span class=\"font-bold text-xl\">{{ item.aula }}</span>\r\n              </span>\r\n\r\n              <span>\r\n                Asiento:\r\n                <span class=\"font-bold text-xl\">{{ item.asiento }}</span>\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"flex justify-center items-center text-center mt-2 cursor-pointer\">\r\n              <img :src=\"`${base_photo}${item.photo}`\" class=\"foto\" />\r\n            </div>\r\n\r\n            <div class=\"w-full mt-3\">\r\n              <vs-button\r\n                v-if=\"!item.is_register\"\r\n                danger\r\n                class=\"focus:outline-none w-full\"\r\n                @click=\"\r\n  item_selected = item;\r\ndialogConfirm = true;\r\n                \"\r\n              >Marcar Ingreso</vs-button>\r\n\r\n              <div\r\n                class=\"rounded-3xl bg-green-500 text-center p-2 text-white w-full\"\r\n                v-if=\"item.is_register\"\r\n              >{{ item.fecha_ingreso }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <vs-dialog width=\"550px\" not-center blur v-model=\"dialogConfirm\" class=\"z-50\">\r\n      <template #header>\r\n        <h4 class=\"not-margin\">\r\n          Registrar\r\n          <b>Postulante</b>\r\n        </h4>\r\n      </template>\r\n\r\n      <div class=\"con-content\">\r\n        <p>\r\n          Esta seguro que desea registar al postulante?\r\n          <br />\r\n        </p>\r\n      </div>\r\n\r\n      <template #footer>\r\n        <div class=\"flex justify-between\">\r\n          <div></div>\r\n          <div class=\"flex\">\r\n            <vs-button id=\"btn_aceptar\" autofocus @click=\"marcar_ingreso()\" transparent>Si</vs-button>\r\n            <vs-button @click=\"dialogConfirm = false\" dark transparent>Cancelar</vs-button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </vs-dialog>\r\n\r\n    <!-- modal -->\r\n\r\n    <vs-dialog blur v-model=\"verExamen\" full-screen>\r\n      <template #header>\r\n        <h4 class=\"not-margin\">Datos en Tiempo Real</h4>\r\n      </template>\r\n\r\n      <div class=\"con-content\">\r\n        <div>\r\n          <div v-for=\"(local, i) in pabellonList\" :key=\"i\" class=\"my-2\">\r\n            <b\r\n              class=\"text-xl cursor-pointer my-2\"\r\n              @click=\"localSelected = local\"\r\n            >{{ i + 1 }}.- {{ get_full_name_colegios(local) }}</b>\r\n\r\n            <b class=\"text-xl rounded-xl text-blue-500 p-1\">\r\n              {{ getTotalPorLocalConteo(local.id) }} /\r\n              {{ getTotalPorLocal(local.id) }}\r\n            </b>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"localSelected\" class=\"flex flex-col p-2 bg-gray-100 mt-5 text-xs\">\r\n          <b class=\"text-blue-500 text-lg\">{{ localSelected.nombre }}</b>\r\n\r\n          <div class=\"flex flex-wrap w-1/full h-96 lg:h-full overflow-scroll lg:overflow-hidden\">\r\n            <ul\r\n              class=\"flex flex-wrap mx-2\"\r\n              v-for=\"(item2, ii) in getAulasByLocal(localSelected.id)\"\r\n              :key=\"ii\"\r\n            >\r\n              <li class=\"my-3 bg-gray-200 p-2 rounded-xl\">\r\n                <span>\r\n                  <b class=\"font-bold text-lg\">{{ item2.aula }}</b>\r\n                </span>\r\n                <span\r\n                  class=\"p-1 text-lg text-white rounded-lg ml-2\"\r\n                  :class=\"\r\n                    item2.count >= item2.total_asientos\r\n                      ? 'bg-green-500'\r\n                      : 'bg-red-400'\r\n                  \"\r\n                >\r\n                  <b>{{ item2.count }}</b> /\r\n                  <b>{{ item2.total_asientos }}</b>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </vs-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@//plugins//axios.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      dni: \"\",\r\n      dataList: [],\r\n      dialogConfirm: false,\r\n      item_selected: {},\r\n      listaDownloadCredenciales: [],\r\n      ver_resumen: false,\r\n      localList: [],\r\n      pabellonList: [],\r\n      aulastotalesList: [],\r\n      dialogTiempoReal: false,\r\n      verCredenciales: false,\r\n      verExamen: false,\r\n      localSelected: null,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    base_photo() {\r\n      let host =\r\n        process.env.NODE_ENV == \"development\"\r\n          ? process.env.VUE_APP_BASE_URL\r\n          : process.env.VUE_APP_URL;\r\n\r\n      host = host.replace(\"/api/v1/\", \"/media/\");\r\n      return host;\r\n    },\r\n\r\n    getTotalCredenciales() {\r\n      if (this.listaDownloadCredenciales.length <= 0) return 0;\r\n      let total = 0;\r\n      this.listaDownloadCredenciales.forEach((element) => {\r\n        total += element.count;\r\n      });\r\n\r\n      return total;\r\n    },\r\n\r\n    getTotalCredencialesTotales() {\r\n      if (this.listaDownloadCredenciales.length <= 0) return 0;\r\n      let total = 0;\r\n      this.listaDownloadCredenciales.forEach((element) => {\r\n        total += element.countToTal;\r\n      });\r\n\r\n      return total;\r\n    },     \r\n  },\r\n\r\n  watch: {\r\n    verExamen(newValue) {\r\n      if (!newValue) {\r\n        console.log(\"saliendo\");\r\n      }\r\n    },\r\n\r\n    dialogConfirm(newValue) {\r\n      if (newValue) {\r\n        setTimeout(() => {\r\n          let boton = document.getElementById(\"btn_aceptar\");\r\n          boton.focus();\r\n        }, 100);\r\n      }\r\n    },\r\n\r\n    ver_resumen(newValue) {\r\n      if (newValue) {\r\n        this.getResumenCredenciales();\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.get_list();\r\n    this.getResumenCredenciales();\r\n\r\n    setTimeout(() => {\r\n      this.$refs.txtdni.focus();\r\n    }, 10);\r\n\r\n    this.getLocales();\r\n    this.getPabellones();\r\n\r\n    // this.watch_reloj();\r\n  },\r\n\r\n  methods: {\r\n    get_full_name_colegios(pabellon){       \r\n      const local = this.localList.find(row=>row.id === pabellon.local)\r\n      return local.nombre  + ' - ' + pabellon.nombre\r\n    },\r\n    \r\n    getTotalPorLocalConteo(pabellonId) {\r\n      const data = this.aulastotalesList.filter(\r\n        (item) => item.pabellonId == pabellonId\r\n      );\r\n\r\n      let total = 0;\r\n      data.forEach((element) => {\r\n        total += element.count;\r\n      });\r\n\r\n      return total;\r\n    },\r\n\r\n    getTotalPorLocal(pabellonId) {\r\n      const data = this.aulastotalesList.filter(\r\n        (item) => item.pabellonId == pabellonId\r\n      );\r\n\r\n      let total = 0;\r\n      data.forEach((element) => {\r\n        total += element.total_asientos;\r\n      });\r\n\r\n      return total;\r\n    },\r\n\r\n    getAulasByLocal(pabellonId) {\r\n      const aulas = this.aulastotalesList.filter(\r\n        (item) => item.pabellonId == pabellonId\r\n      );\r\n\r\n      return aulas;\r\n    },\r\n\r\n    async getLocales() {\r\n      const { data } = await axios.get(\"local\");\r\n      this.localList = data;\r\n    },\r\n\r\n    async getPabellones() {\r\n      const { data } = await axios.get(\"pabellon\");\r\n      this.pabellonList = data;\r\n    },\r\n\r\n    async getResumenAulas() {\r\n      const { data } = await axios.get(\"get_resumen_aulas\");\r\n      this.aulastotalesList = data;\r\n    },\r\n\r\n    getResumenCredenciales() {\r\n      axios.get(\"getResumenCredenciales\").then((resp) => {\r\n        this.listaDownloadCredenciales = resp.data;\r\n      });\r\n    },\r\n\r\n    get_list() {\r\n      try {\r\n        const dni = this.dni;\r\n        // if dni > 8 digitos, dejar solo los primeros 8 digitos\r\n        if (dni.length > 8) {\r\n          this.dni = dni.substring(0, 8);\r\n        }\r\n\r\n        if (dni.length == 0 || dni.length >= 8) {\r\n          axios\r\n            .get(\"get_list_postulante_ingresos\", {\r\n              params: {\r\n                dni,\r\n              },\r\n            })\r\n            .then((resp) => {\r\n              this.dataList = resp.data;\r\n\r\n              if (this.dataList.length == 1) {\r\n                this.item_selected = this.dataList[0];\r\n                this.marcar_ingreso();\r\n                this.dni = \"\";\r\n                setTimeout(() => {\r\n                  this.$refs.txtdni.focus();\r\n                }, 100);\r\n              }\r\n              this.getResumenCredenciales();\r\n            });\r\n        }\r\n      } catch (error) {\r\n        //\r\n      }\r\n    },\r\n\r\n    async watch_reloj() {\r\n      try {\r\n        await axios.get(\"watch_reloj\");\r\n        this.getResumenAulas();\r\n\r\n        if (this.verExamen) {\r\n          setTimeout(() => {\r\n            console.log(\"consultando...\");\r\n            this.watch_reloj();\r\n          }, 1000);\r\n        }\r\n      } catch (error) {\r\n        //\r\n      }\r\n    },\r\n\r\n    async marcar_ingreso() {\r\n      if (this.dni.length <= 0) return;\r\n\r\n      const loading = this.$vs.loading();\r\n      try {\r\n        let obj = {\r\n          id: this.item_selected.id,\r\n        };\r\n        const { data } = await axios.post(\"marcar_ingreso_by_id/\", obj);\r\n\r\n        if (data.length <= 0) {\r\n          this.$vs.notification({\r\n            title: \"Examen\",\r\n            text: \"Ocurrio un problema al registrar al postulante! 😢\",\r\n            color: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        const registro = data[0];\r\n\r\n        const index = this.dataList.findIndex((item) => item.id == registro.id);\r\n\r\n        if (index > -1) {\r\n          this.dataList[index] = registro;\r\n\r\n          this.$vs.notification({\r\n            title: \"Examen\",\r\n            text: \"El postulante fué registrado correctamente! 😎\",\r\n            color: \"success\",\r\n          });\r\n        } else {\r\n          this.$vs.notification({\r\n            title: \"Examen\",\r\n            text: \"No se encontró el registro! 😢\",\r\n            color: \"warning\",\r\n          });\r\n        }\r\n\r\n        this.getResumenCredenciales();\r\n      } catch (error) {\r\n        //\r\n        this.$vs.notification({\r\n          title: \"Examen\",\r\n          text: \"Ocurrio un error al registrar al postulante! 😢\",\r\n          color: \"danger\",\r\n        });\r\n      } finally {\r\n        loading.close();\r\n        this.dialogConfirm = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.foto {\r\n  width: 240px !important;\r\n.foto {\r\n  width: 240px !important;\r\n  height: 288px !important;\r\n}\r\n.foto {\r\n  width: 240px !important;\r\n  height: 288px !important;\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=46a9246a&scoped=true\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46a9246a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}