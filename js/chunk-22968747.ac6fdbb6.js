(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22968747"],{"0c37":function(t,e,a){"use strict";a("70aa")},5018:function(t,e,a){"use strict";a("7328")},"6a85":function(t,e,a){"use strict";a("c12f")},"70aa":function(t,e,a){},7328:function(t,e,a){},"7a7b":function(t,e,a){},"7c99":function(t,e,a){"use strict";a("7a7b")},c12f:function(t,e,a){},fb82:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("list",{attrs:{dataList:t.get_postulante},on:{edit:t.edit,filtering:function(e){t.filters=e,t.set_postulante()},change_pages:function(e){return t.set_postulante()},limits:t.limitEvent,imprimir:function(e){t.dataImpresion=e,t.index=0,t.descargarConstancias()}}}),e("ViewData",{attrs:{item_selected:t.item_selected,dialog:t.dialog},on:{closedialog:function(e){t.dialog=!1},actualizar:function(e){return t.set_postulante()}}})],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-between"},[e("div"),e("h1",{staticClass:"text-lg text-gray-400 font-medium"},[t._v("Postulantes")])])}],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"p-5 rounded-3xl bg-gray-200 w-32"},[e("span",[t._v("Total: "),e("b",{staticClass:"text-3xl"},[t._v(t._s(t.dataListLocal.length))])])]),e("div",{staticClass:"mt-2 flex"},[e("vs-radio",{attrs:{val:"lista"},model:{value:t.modo,callback:function(e){t.modo=e},expression:"modo"}},[t._v(" Lista ")]),e("vs-radio",{attrs:{val:"foto"},model:{value:t.modo,callback:function(e){t.modo=e},expression:"modo"}},[t._v(" Foto ")]),e("vs-radio",{attrs:{val:"validacion"},model:{value:t.modo,callback:function(e){t.modo=e},expression:"modo"}},[t._v(" Validaci贸n ")])],1),e("div",["lista"==t.modo?e("vs-table",{staticClass:"mt-2",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"mb-2 text-lg font-medium px-2"},[e("h1",[t._v("Filtros")]),e("div",{staticClass:"w-1/12 flex items-center"},[e("span",{attrs:{for:""}},[e("vs-radio",{attrs:{val:"true"},on:{input:function(e){return t.$emit("limits",!0)}},model:{value:t.limite,callback:function(e){t.limite=e},expression:"limite"}},[t._v("10")])],1),e("span",{attrs:{for:""}},[e("vs-radio",{attrs:{val:"false"},on:{input:function(e){return t.$emit("limits",!1)}},model:{value:t.limite,callback:function(e){t.limite=e},expression:"limite"}},[t._v("Todos")])],1)])]),e("div",{staticClass:"bg-white p-3 rounded-3xl"},[e("div",{staticClass:"flex flex-col lg:flex-row"},[e("div",[e("span",{staticClass:"text-xs"},[t._v("Dni")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.filters.dni,expression:"filters.dni",modifiers:{trim:!0}}],staticClass:"p-3 bg-gray-100 rounded-xl block",attrs:{type:"number",id:"txtdni"},domProps:{value:t.filters.dni},on:{input:[function(e){e.target.composing||t.$set(t.filters,"dni",e.target.value.trim())},function(e){return t.$emit("filtering",t.filters)}],blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"pt-5"},[e("vs-button",{staticClass:"w-full focus:outline-none",on:{click:function(e){return t.$emit("filtering",t.filters)}}},[t._v("Buscar")])],1)])]),"administrador"==t.get_auth.group||"consultor"==t.get_auth.group?e("div",{staticClass:"flex flex-col mt-5 w-full bg-white p-3 rounded-xl"},[e("div",{staticClass:"flex justify-between flex-wrap"},[e("div",{staticClass:"lg:w-1/3 w-full"},[e("span",{staticClass:"text-xs"},[t._v("Modalidad")]),e("v-select",{attrs:{options:t.modalidad_data,label:"nombre",index:"id"},on:{input:function(e){return t.modalidadSelected()}},model:{value:t.filters.modalidad,callback:function(e){t.$set(t.filters,"modalidad",e)},expression:"filters.modalidad"}})],1),e("div",{staticClass:"lg:w-1/3 w-full"},[e("span",{staticClass:"text-xs"},[t._v("Escuela")]),e("v-select",{attrs:{options:t.escuela_data,label:"nombre",index:"id"},on:{input:function(e){return t.$emit("filtering",t.filters)}},model:{value:t.filters.escuela,callback:function(e){t.$set(t.filters,"escuela",e)},expression:"filters.escuela"}})],1),t.bloquear_filial?t._e():e("div",{staticClass:"lg:w-1/3 w-full"},[e("span",{staticClass:"text-xs"},[t._v("Sede/Filial")]),e("v-select",{attrs:{options:t.sede_data,label:"nombre",index:"id"},on:{input:function(e){return t.$emit("filtering",t.filters)}},model:{value:t.filters.filial,callback:function(e){t.$set(t.filters,"filial",e)},expression:"filters.filial"}})],1),e("div",{staticClass:"lg:w-1/3 w-full"},[e("span",{staticClass:"text-xs"},[t._v("Universidad Procedencia")]),e("v-select",{attrs:{options:t.universidad_data,label:"nombre",index:"id"},on:{input:function(e){return t.$emit("filtering",t.filters)}},model:{value:t.filters.universidad_procedencia,callback:function(e){t.$set(t.filters,"universidad_procedencia",e)},expression:"filters.universidad_procedencia"}})],1),e("div",{staticClass:"mt-2 flex"},[e("vs-checkbox",{attrs:{success:"",val:!0},on:{change:t.checkIngresantes},scopedSlots:t._u([{key:"icon",fn:function(){return[e("i",{staticClass:"fas fa-check-double"})]},proxy:!0}],null,!1,4036497132),model:{value:t.filters.ingresantes,callback:function(e){t.$set(t.filters,"ingresantes",e)},expression:"filters.ingresantes"}},[t._v(" Solo ingresantes ")]),e("vs-button",{on:{click:function(e){return t.$emit("imprimir",t.dataListLocal)}}},[t._v(" Descargar Constancias ")])],1)]),e("div",{staticClass:"flex flex-wrap"},[e("div",{staticClass:"mt-2"},[e("vs-button",{staticClass:"focus:outline-none",attrs:{success:""},on:{click:t.exportarExcel}},[t._v(" Exportar a Excel ")])],1),e("div",{staticClass:"mt-2"},[e("vs-button",{staticClass:"focus:outline-none",attrs:{success:""},on:{click:t.exportarFotos}},[t._v(" Exportar Fotos ")])],1),e("div",{staticClass:"mt-2"},[e("vs-button",{staticClass:"focus:outline-none",attrs:{dark:""},on:{click:t.exportarDigraa}},[t._v(" Formato Ingresantes (DIGRAA) ")])],1),e("div",{staticClass:"mt-2"},[e("vs-button",{staticClass:"focus:outline-none",attrs:{dark:""},on:{click:t.exportF6}},[t._v(" Formato F6 ")])],1)])]):t._e()]},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",[e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"id")}}},[t._v(" Id ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"apellido_paterno")}}},[t._v(" Apellido Paterno ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"apellido_materno")}}},[t._v(" Apellido Materno ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"nombre")}}},[t._v(" Nombre ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"dni")}}},[t._v(" Dni ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"modalidad")}}},[t._v(" Modalidad ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"escuela")}}},[t._v(" Escuela ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"fecha")}}},[t._v(" Fecha ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"total")}}},[t._v(" Total ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"celular")}}},[t._v(" Celular ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"validado")}}},[t._v(" Validado ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"cubrio_vacante")}}},[t._v(" Cubrio Vacante ")]),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.dataListLocal=t.$vs.sortData(e,t.dataListLocal,"nota_examen")}}},[t._v(" Puntaje ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.dataListLocal,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",{attrs:{edit:""},on:{click:function(e){return t.$emit("edit",a)}}},[e("span",[t._v(t._s(a.id))])]),e("vs-td",[e("span",[t._v(t._s(a.apellido_paterno))])]),e("vs-td",[e("span",[t._v(t._s(a.apellido_materno))])]),e("vs-td",[e("span",[t._v(t._s(a.nombre))])]),e("vs-td",[e("span",[t._v(t._s(a.dni))])]),e("vs-td",[e("span",[t._v(t._s(a.modalidad))])]),e("vs-td",[e("span",[t._v(t._s(a.escuela))])]),e("vs-td",[e("span",[t._v(t._s(a.fecha))])]),e("vs-td",[e("span",{class:{" line-through":0==a.total}},[t._v(t._s(t.ParseMoney(a.total)))])]),e("vs-td",[e("span",{staticClass:"hover:text-indigo-500 underline",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.openWhatsApp(a.celular)}}},[t._v(t._s(a.celular))])]),e("vs-td",[e("span",{staticClass:"px-2",class:{"bg-green-500 text-white rounded-2xl":a.validado,"text-red-500 line-through":!a.validado}},[t._v(t._s(a.validado?"Si":"No"))])]),e("vs-td",[e("span",{class:{"bg-green-500 text-white rounded-2xl":a.cubrio_vacante,"text-red-500":!a.cubrio_vacante}},[t._v(t._s(a.cubrio_vacante_text))])]),e("vs-td",[e("span",[t._v(t._s(t.ParseMoney(a.nota_examen)))])])],1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos  ")]},proxy:!0}],null,!1,200184252)}):"validacion"==t.modo?e("validar-documentos",{attrs:{dataList:t.dataListLocal},on:{input:e=>{t.filters.dni=e,t.$emit("filtering",t.filters)},edit:function(e){return t.$emit("edit",e)}}}):e("list-foto",{attrs:{dataList:t.dataListLocal},on:{edit:function(e){return t.$emit("edit",e)},input:e=>{t.filters.dni=e,t.$emit("filtering",t.filters)}}})],1)])},o=[],n=a("be3b"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"m-2 flex justify-between"},[e("div",{staticClass:"flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dni,expression:"dni"}],ref:"txtdni",staticClass:"p-3 bg-gray-100 rounded-xl",attrs:{type:"number",placeholder:"Dni",maxlength:"8"},domProps:{value:t.dni},on:{input:[function(e){e.target.composing||(t.dni=e.target.value)},function(e){return t.$emit("input",t.dni)}]}}),e("vs-button",{on:{click:function(e){return t.clickClean()}}},[e("li",{staticClass:"fas fa-sync"})])],1)]),e("div",{staticClass:"text-center flex flex-col lg:flex-row lg:flex-wrap"},t._l(t.get_dataList,(function(a,s){return e("div",{key:s,staticClass:"relative flex flex-col mx-2 border p-3 rounded-lg mt-2 lg:mt-0"},[e("div",{staticClass:"flex flex-col text-left text-xs w-full",staticStyle:{width:"240px !important"}},[e("span",{staticClass:"text-lg underline font-medium uppercase cursor-pointer",on:{click:function(e){return t.$emit("edit",a)}}},[t._v(t._s(`${a.apellido_paterno} ${a.apellido_materno} ${a.nombre}`))]),e("span",{staticClass:"font-medium mt-2"},[e("i",{staticClass:"fas fa-user text-green-500 mr-2"}),t._v(" "+t._s(a.dni))]),e("div",{staticClass:"flex justify-between"},[e("div"),e("span",{staticClass:"text-right cursor-pointer w-auto"},[e("i",{staticClass:"fas fa-phone mr-2 text-blue-500"}),t._v(" "+t._s(a.celular)+" ")])]),e("span",{class:a.validado?" text-green-500":" text-red-500"},[t._v(" "+t._s(a.validado?" Validado":" Sin Validar")+" ")])]),e("div",{staticClass:"flex justify-center items-center text-center mt-2 cursor-pointer"},[e("img",{staticClass:"foto",attrs:{src:`${t.base_photo}${a.photo}`}})])])})),0)])},c=[],d={props:{dataList:{type:Array}},data(){return{dni:"",fotos_links:[],ver_menu:!1}},computed:{get_dataList(){return this.dataList.filter(t=>t.dni.includes(this.dni))},base_photo(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/media/"),t}},methods:{get_links_fotos_zip(){this.ver_menu=!this.ver_menu,this.$store.dispatch("postulante/get_links_fotos").then(t=>{this.fotos_links=t})},clickClean(){this.dni="",this.$refs.txtdni.focus()}}},u=d,p=(a("0c37"),a("2877")),m=Object(p["a"])(u,r,c,!1,null,"7c99bcab",null),f=m.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"m-2 flex justify-between"},[e("div",{staticClass:"w-1/2 flex"},[e("div",{staticClass:"w-full"},[e("span",{staticClass:"text-xs"},[t._v("Filtro Dni")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.dni,expression:"dni",modifiers:{trim:!0}}],ref:"dni2",staticClass:"p-3 bg-gray-100 rounded-xl block",attrs:{type:"number",id:"txtdni",autofocus:""},domProps:{value:t.dni},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filter.apply(null,arguments)},input:function(e){e.target.composing||(t.dni=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"flex items-end"},[e("vs-button",{staticClass:"focus:outline-none",on:{click:function(e){return t.validarTodo()}}},[t._v(" Validar Todos ")]),e("vs-button",{staticClass:"focus:outline-none",attrs:{success:""},on:{click:t.imprimirValidados}},[t._v(" Imprimir Validados ")])],1)]),e("vs-table",{staticClass:"mt-2",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",t._l(t.columns,(function(a,s){return e("vs-th",{key:s},[t._v(" "+t._s(a.text)+" ")])})),1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.items,(function(a,s){return e("vs-tr",{key:s},[e("vs-td",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.$emit("edit",a)}}},[t._v(" "+t._s(a.id)+" ")]),e("vs-td",[t._v(" "+t._s(a.dni)+" ")]),e("vs-td",[t._v(" "+t._s(`${a.nombre} ${a.apellido_paterno} ${a.apellido_materno}`)+" ")]),e("vs-td",[t._v(" "+t._s(a.modalidad)+" ")]),e("vs-td",[t._v(" "+t._s(a.escuela)+" ")]),e("vs-td",[e("span",{staticClass:"font-bold",class:a.validado?"   bg-green-500 px-2 text-white rounded-xl":" text-red-500"},[t._v(t._s(a.validado?"Si":"No"))])]),e("vs-td",[e("vs-button",{staticClass:"text-xs p-0 m-0 focus:outline-none",attrs:{danger:""},on:{click:function(e){return t.deleteItem(a.id)}}},[t._v(" x ")])],1)],1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos  ")]},proxy:!0}])})],1)},_=[],h=(a("14d9"),{name:"validar-documentos",props:{},data(){return{dni:"",ver_menu:!1,columns:[{name:"id",text:"Id"},{name:"dni",text:"Dni"},{name:"nombre",text:"Nombre"},{name:"modalidad",text:"Modalidad al que postula"},{name:"escuela",text:"Escuela al que postula"},{name:"validado",text:"Validado"},{name:"accion",text:"eliminar"}],items:[],dataList:[],esperando_respuesta:!1,itemSelected:{}}},watch:{dataList(t){t.length>0&&(this.itemSelected=t[0],this.addItem())}},mounted(){setTimeout(()=>{this.$refs.dni2.focus()},500)},computed:{base_photo(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/media/"),t}},methods:{printRegistro(t){let e=this.$router.resolve("/reporte/"+t.id);window.open(e.href,"_blank")},async imprimirValidados(){for(let t=0;t<this.items.length;t++){const e=this.items[t];e.validado&&(this.printRegistro(e),await this.sleep(500))}},sleep(t){return new Promise(e=>setTimeout(e,t))},async filter(){this.esperando_respuesta||""==this.dni||(this.esperando_respuesta=!0,await this.$store.dispatch("postulante/get_postulante_full_v2_for_validation",{id:this.dni,dni:this.dni}).then(t=>{this.esperando_respuesta=!1,null!=t&&""!=t&&(this.dataList=t)}))},async validarTodo(){if(this.items.length<=0)return;const t=this.$vs.loading({color:"succcess"});try{const e=this.items.map(t=>t.id),{data:a}=await n["a"].post("validar_requisitos_bulk/",{postulante:e});if(a.length>0)return void a.forEach(t=>{const e=this.items.find(e=>e.id==t.id);null==e||(e.validado=t.status)})}catch(e){}finally{t.close(),this.$store.dispatch("postulante/set_postulante",{dni:"",limit:!0})}},deleteItem(t){this.items=this.items.filter(e=>e.id!=t)},addItem(){if(!this.itemSelected.id)return;const t=this.items.findIndex(t=>t.id==this.itemSelected.id);t>-1?this.$vs.notification({title:"Validar Documentos",text:"El postulante ya esta en la lista! ",color:"danger"}):(this.items.push(this.itemSelected),this.itemSelected={},this.$refs.dni2.focus(),this.$refs.dni2.select())},clickClean(){this.dni="",this.$refs.txtdni2.focus()}}}),x=h,g=(a("6a85"),Object(p["a"])(x,v,_,!1,null,"458a1fab",null)),b=g.exports,C={components:{ListFoto:f,ValidarDocumentos:b},props:{dataList:{type:Array}},data(){return{columns:[{name:"id",text:"Id"},{name:"apellido_paterno",text:"Apellido Paterno"},{name:"apellido_materno",text:"Apellido Materno"},{name:"nombre",text:"Nombre"},{name:"dni",text:"Dni"},{name:"modalidad",text:"Modalidad al que postula"},{name:"escuela",text:"Escuela al que postula"},{name:"fecha",text:"Fecha Preinscripci贸n"},{name:"total",text:"Total"},{name:"celular",text:"Celular"},{name:"validado",text:"Validado"},{name:"cubrio_vacante",text:"Cubrio Vacante"}],dataListLocal:[],filters:{modalidad:null,escuela:null,dni:null,filial:null,ingresantes:null,universidad_procedencia:""},modalidad_data:[],universidad_data:[{id:1,nombre:"UCP"},{id:2,nombre:"UPO"},{id:3,nombre:"UPS"},{id:4,nombre:"TODOS"}],escuela_data:[],sede_data:[],limite:"true",bloquear_filial:!1,codigo_barra:null,modo_lista:!0,modo:"lista"}},computed:{get_auth(){return this.$store.getters["auth/get_auth"]}},watch:{dataList(t){this.dataListLocal=t}},async mounted(){this.set_modalidad(),this.set_escuela(),await this.set_sede(),this.filterFilial(),setTimeout(()=>{document.getElementById("txtdni").focus()},200)},methods:{async modalidadSelected(){try{if(!this.filters.modalidad)return void this.set_escuela();const{data:t}=await n["a"].get("getEscuelasBySedeModalidad",{params:{sede:1,modalidad:this.filters.modalidad.id}});this.escuela_data=t.map(t=>({id:t.escuela,nombre:t.nombre})),this.$emit("filtering",this.filters)}catch(t){return null}},async exportF6(){const t=this.$vs.loading({color:"success",text:"Generando archivo, tome un caf茅 mientras espera"});try{const{data:a,status:s}=await n["a"].get("get_postulante_results_to_excel");if(200==s){var e=document.createElement("a");e.href=this.base_photo()+a.file,e.click()}}catch(a){alert("Ocurrio un problema!")}finally{t.close()}},async exportarDigraa(){try{const{data:e,status:a}=await n["a"].get("getReporteIngresantesDigraa");if(200==a){var t=document.createElement("a");t.href=this.base_photo()+e.file,t.click()}}catch(e){alert("Ocurrio un problema!!")}},async exportarFotos(){let{dni:t,modalidad:e,escuela:a,filial:s,ingresantes:i,universidad_procedencia:l}=this.filters;t&&(t=t.toString()),e=e?e.id:0,a=a?a.id:0;let o=s?s.id:0;t=t||"",i=i||!1;const r=this.limite;l=l?l.nombre:"";const{data:c,status:d}=await n["a"].get("fotosIgresantesToZip",{params:{dni:t,limit:r,modalidad:e,escuela:a,sede:o,ingresantes:i,universidad_procedencia:l}});if(200==d){var u=document.createElement("a");u.href=this.base_photo()+c.file,u.click()}},async exportarExcel(){let{dni:t,modalidad:e,escuela:a,filial:s,ingresantes:i,universidad_procedencia:l}=this.filters;t&&(t=t.toString()),e=e?e.id:0,a=a?a.id:0;let o=s?s.id:0;t=t||"",i=i||!1;const r=this.limite;l=l?l.nombre:"";const{data:c,status:d}=await n["a"].get("filterPostulanteToExcel",{params:{dni:t,limit:r,modalidad:e,escuela:a,sede:o,ingresantes:i,universidad_procedencia:l}});if(200==d){var u=document.createElement("a");u.href=this.base_photo()+c.download_excel_file,u.click()}},base_photo(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/media/"),t},filterFilial(){const t=this.get_auth.username,e=["yurimaguas","contamana","datem","requena"].find(e=>e.trim().toLowerCase()==t.trim().toLowerCase());if(e){const t=this.sede_data.findIndex(t=>t.nombre.trim().toLowerCase()==e.trim().toLowerCase());t>-1&&(this.bloquear_filial=!0,this.filters.filial=this.sede_data[t],this.$emit("filtering",this.filters),setTimeout(()=>{document.getElementById("txtidcodigo").focus()},10))}},checkIngresantes(){this.$emit("filtering",this.filters)},sleep(t){return new Promise(e=>setTimeout(e,t))},ParseMoney(t){const e=new Intl.NumberFormat("es-PE",{currency:"PEN",minimumFractionDigits:3});return t=Math.round(100*t)/100,e.format(t)},async set_modalidad(){try{const{data:t}=await n["a"].get("modalidad");this.modalidad_data=t}catch(t){return null}},async set_escuela(){try{const{data:t}=await n["a"].get("escuela");this.escuela_data=t}catch(t){return null}},async set_sede(){try{const{data:t}=await n["a"].get("cede");this.sede_data=t}catch(t){return null}},openWhatsApp(t){const e="https://web.whatsapp.com/send?phone="+t;window.open(e,"_blank")}}},y=C,w=Object(p["a"])(y,l,o,!1,null,null,null),k=w.exports,L=function(){var t=this,e=t._self._c;return e("vs-dialog",{attrs:{id:"dialog","not-center":"",width:"700px"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"flex flex-col md:flex-row md:items-center justify-between px-4 gap-2"},[e("div",{staticClass:"flex flex-col"},[e("h1",[e("b",[t._v("Vista de Postulante")])]),e("span",{staticClass:"text-xs font-bold"},[t._v("Fecha Recepci贸n: "+t._s(t.item_selected_local.fecha_recepcion||""))])]),t.data_created_modified?e("div",{staticClass:"flex flex-col"},[e("span",[e("b",[t._v("Validado por:")]),t._v(" "+t._s(t.data_created_modified.created_user))]),e("span",[e("b",[t._v("Actualizado por:")]),t._v(" "+t._s(t.data_created_modified.modified_user))])]):t._e()])]},proxy:!0}]),model:{value:t.dialogLocal,callback:function(e){t.dialogLocal=e},expression:"dialogLocal"}},[e("div",[e("perfil",{attrs:{item_selected:t.item_selected_local}}),e("options",{on:{option:function(e){t.option=e}}})],1),e("div",{staticClass:"mt-5"},[Object.entries(t.item_selected_local).length>0&&0==t.option?e("requisito",{attrs:{item_selected:t.item_selected_local}}):t._e(),1==t.option?e("info",{attrs:{item_selected:t.item_selected_local},on:{actualizar:function(e){return t.$emit("actualizar")}}}):t._e(),2==t.option?e("generals",{attrs:{item_selected:t.item_selected_local}}):t._e(),3==t.option?e("educativas",{attrs:{item_selected:t.item_selected_local}}):t._e(),4==t.option?e("programa",{attrs:{item_selected:t.item_selected_local}}):t._e()],1)])},q=[],$=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex flex-col items-start p-3 shadow-md rounded-lg w-full bg-white"},[e("h1",{staticClass:"text-xl font-bold text-green-500"},[t._v(" Caracteristicas Educativas ")]),e("div",{staticClass:"mt-7"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Informaci贸n del Colegio ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Nombre del colegio")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.nombre_colegio}})]),e("div",{staticClass:"mt-7"},[e("vs-input",{staticClass:"w-full capitalize",attrs:{label:"Tipo de Colegio",value:t.itemSelectedLocal.tipo_colegio_,readonly:""}}),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Tipo de Alumno Postulante")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.grado_academico_}})])],1)]),e("div",{staticClass:"mt-7 w-full"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Ubicaci贸n del Colegio ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Region/Provincia/Distrito")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.ubigeo_colegio}})])]),e("div",{staticClass:"mt-7 w-full"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Universidad de procedencia ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Nombre de Universidad de procedencia")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.universidad_procedencia}})]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Tipo de Universidad de procedencia")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.tipo_universidad}})]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Ultimo ciclo de estudios")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.ultimo_ciclo_estudio}})])])])},S=[],P={props:{item_selected:{type:Object}},data(){return{itemSelectedLocal:{}}},mounted(){this.$store.dispatch("postulante/getCaracteristicasEducativas",this.item_selected.id).then(t=>{this.itemSelectedLocal=t})}},D=P,j=Object(p["a"])(D,$,S,!1,null,null,null),R=j.exports,I=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex flex-col items-start p-3 shadow-md rounded-lg w-full bg-white"},[e("h1",{staticClass:"text-xl font-bold text-green-500"},[t._v(" Caracteristicas Generales ")]),e("div",{staticClass:"mt-7"},[e("div",{staticClass:"mt-7"},[e("vs-input",{staticClass:"w-full capitalize",attrs:{label:"Estado Civil",value:t.itemSelectedLocal.estado_civil_,readonly:""}}),e("vs-input",{staticClass:"w-full mt-7 capitalize",attrs:{label:"Dependencia Familiar",value:t.itemSelectedLocal.familiar_,readonly:""}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Limitacion Permanente")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.limitacion_permanente_}}),e("vs-input",{staticClass:"w-full mt-7",attrs:{label:"Trabaja",value:t.itemSelectedLocal.trabaja_||"No",readonly:""}}),e("vs-input",{staticClass:"w-full mt-7 capitalize",attrs:{label:"Actividad Econ贸mica",value:t.itemSelectedLocal.actividad_economica_,readonly:""}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Tipo de Trabajo")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.tipo_trabajo_}}),e("vs-input",{staticClass:"w-full mt-7 capitalize",attrs:{label:"Pertenece a etnia",value:t.itemSelectedLocal.es_etnia?"Si":"No",readonly:""}})],1)])])},F=[],E={props:{item_selected:{type:Object}},data(){return{itemSelectedLocal:{}}},mounted(){this.$store.dispatch("postulante/getCaracteristicasGenerales",this.item_selected.id).then(t=>{this.itemSelectedLocal=t})}},O=E,N=Object(p["a"])(O,I,F,!1,null,"586aaaee",null),z=N.exports,V=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex flex-col items-start p-3 shadow-md rounded-lg w-full bg-white"},[e("h1",{staticClass:"text-xl font-bold text-green-500"},[t._v(" Informaci贸n del Postulante ")]),e("div",{staticClass:"mt-7"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v("Informaci贸n Personal")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Apellido Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellido_paterno,expression:"apellido_paterno"}],staticClass:"w-full border p-2 px-3 rounded-xl",attrs:{type:"text"},domProps:{value:t.apellido_paterno},on:{input:function(e){e.target.composing||(t.apellido_paterno=e.target.value)}}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Apellido Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellido_materno,expression:"apellido_materno"}],staticClass:"w-full border p-2 px-3 rounded-xl",attrs:{type:"text"},domProps:{value:t.apellido_materno},on:{input:function(e){e.target.composing||(t.apellido_materno=e.target.value)}}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Nombres")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombre,expression:"nombre"}],staticClass:"w-full border p-2 px-3 rounded-xl",attrs:{type:"text"},domProps:{value:t.nombre},on:{input:function(e){e.target.composing||(t.nombre=e.target.value)}}})]),e("div",{staticClass:"mt-7"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Genero",value:t.item_selected.genero,readonly:""}})],1),e("div",{staticClass:"flex flex-col mt-2"},[e("span",{staticClass:"text-xs ml-2"},[t._v("Dni")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dni,expression:"dni"}],staticClass:"w-64 border p-2 px-3 rounded-xl",attrs:{type:"text",readonly:"",disable:""},domProps:{value:t.dni},on:{input:function(e){e.target.composing||(t.dni=e.target.value)}}})])]),e("div",{staticClass:"mt-7 w-full"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Informaci贸n de Nacimiento ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Fecha de Nacimiento")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl",attrs:{readonly:"",type:"text"},domProps:{value:t.item_selected.fecha_nacimiento}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Lugar de Nacimiento")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.item_selected.ubigeo_nacimiento}})])]),e("div",{staticClass:"mt-7 w-full"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Direcci贸n Actual ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Direcci贸n")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.item_selected.direccion}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Ubicaci贸n Actual")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.item_selected.ubigeo}})])]),e("div",{staticClass:"mt-7 w-full"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Informaci贸n de Contacto ")]),e("div",{staticClass:"flex flex-col"},[e("span",{staticClass:"text-xs ml-2"},[t._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.telefono,expression:"telefono"}],staticClass:"w-1/2 border p-2 px-3 rounded-xl",attrs:{type:"text"},domProps:{value:t.telefono},on:{input:function(e){e.target.composing||(t.telefono=e.target.value)}}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Celular")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.celular,expression:"celular"}],staticClass:"w-1/2 border p-2 px-3 rounded-xl",attrs:{type:"text"},domProps:{value:t.celular},on:{input:function(e){e.target.composing||(t.celular=e.target.value)}}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Correo Electr贸nico")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.correo,expression:"correo"}],staticClass:"w-full border p-2 px-3 rounded-xl",attrs:{readonly:"",type:"text"},domProps:{value:t.correo},on:{input:function(e){e.target.composing||(t.correo=e.target.value)}}})]),e("div",{staticClass:"mt-2"},[e("vs-button",{on:{click:function(e){return t.modificarPostulante()}}},[t._v(" Guardar Cambios ")])],1)])])},T=[],A={props:{item_selected:{type:Object}},data(){return{nombre:"",apellido_paterno:"",apellido_materno:"",dni:"",telefono:"",celular:"",correo:""}},mounted(){const t=this.item_selected;t&&(this.nombre=t.nombre,this.apellido_paterno=t.apellido_paterno,this.apellido_materno=t.apellido_materno,this.dni=t.dni,this.telefono=t.telefono,this.celular=t.celular,this.correo=t.correo)},methods:{validarData(){return 0!=this.dni.length&&0!=this.apellido_paterno.length&&0!=this.apellido_materno.length&&0!=this.nombre.length&&0!=this.celular.length&&0!=this.correo.length||(this.$vs.notification({title:"Postulante",text:"Verifica los campos obligatorios! ",color:"danger"}),!1)},async modificarPostulante(){if(!this.validarData())return;const t=this.$vs.loading();try{const e={nombre:this.nombre,apellido_paterno:this.apellido_paterno,apellido_materno:this.apellido_materno,telefono:this.telefono,celular:this.celular,correo:this.correo,id:this.item_selected.id},a=await this.$store.dispatch("postulante/modificarPostulante",e);if(200!=a)return void this.$vs.notification({title:"Postulante",text:"No se pudo modificar! ",color:"danger"});this.$emit("actualizar"),this.$vs.notification({title:"Postulante",text:"Postulante modificado correctamente!",color:"success"})}catch(e){this.$vs.notification({title:"Postulante",text:"No se pudo modificar! ",color:"danger"})}finally{t.close()}}}},M=A,U=Object(p["a"])(M,V,T,!1,null,"224b7f16",null),G=U.exports,B=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex justify-between text-center mt-3"},[e("vs-button",{staticClass:"w-1/5 focus:outline-none",attrs:{square:"",icon:"",danger:""},on:{click:function(e){return t.$emit("option","0")}}},[e("i",{staticClass:"fas fa-tools lg:mr-2"}),e("span",{staticClass:"text-xs hidden lg:flex"},[t._v("Requisitos")])]),e("vs-button",{staticClass:"w-1/5 focus:outline-none",attrs:{square:"",icon:""},on:{click:function(e){return t.$emit("option","1")}}},[e("i",{staticClass:"fas fa-info lg:mr-2"}),e("span",{staticClass:"text-xs hidden lg:flex"},[t._v("Info. Postulante")])]),e("vs-button",{staticClass:"w-1/5 focus:outline-none",attrs:{square:"",icon:""},on:{click:function(e){return t.$emit("option","2")}}},[e("i",{staticClass:"fas fa-user lg:mr-2"}),e("span",{staticClass:"text-xs hidden lg:flex"},[t._v("Caract. Generales")])]),e("vs-button",{staticClass:"w-1/5 focus:outline-none",attrs:{square:"",icon:""},on:{click:function(e){return t.$emit("option","3")}}},[e("i",{staticClass:"fas fa-university lg:mr-2"}),e("span",{staticClass:"text-xs hidden lg:flex"},[t._v("Caract. Educativas")])]),e("vs-button",{staticClass:"w-1/5 focus:outline-none",attrs:{square:"",icon:""},on:{click:function(e){return t.$emit("option","4")}}},[e("i",{staticClass:"fas fa-graduation-cap lg:mr-2"}),e("span",{staticClass:"text-xs hidden lg:flex"},[t._v("Prog. Estudios")])])],1)},J=[],W={},Z=W,H=Object(p["a"])(Z,B,J,!1,null,null,null),K=H.exports,Q=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex flex-col items-center p-3 shadow-md rounded-lg w-full"},[e("div",{staticClass:"flex justify-center items-center text-center"},[e("img",{staticClass:"bg-center w-full",staticStyle:{width:"240px !important",high:"288px !important"},attrs:{src:t.foto}})]),e("div",{staticClass:"mt-3 w-full"},[e("div",{staticClass:"text-center"},[e("h1",{staticClass:"text-2xl"},[e("b",[t._v(t._s(`${t.item_selected.nombre} ${t.item_selected.apellido_paterno} ${t.item_selected.apellido_materno}`))])]),e("div",{staticClass:"flex flex-col"},[e("h2",[t._v(" Dni: "),e("span",{staticClass:"font-medium"},[t._v(t._s(t.item_selected.dni))])]),e("span",[t._v("Edad: "),e("span",{staticClass:"font-medium"},[t._v(t._s(t.item_selected.edad))])])])])])])},X=[],Y={props:{item_selected:{type:Object}},data(){return{foto:null}},watch:{item_selected(t){t&&this.get_foto(),t&&this.$store.dispatch("postulante/GetDataCreatedModified",t.id)}},methods:{async get_foto(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";t=t.replace("/api/v1/","/"),t+="media/"+this.item_selected.photo,this.foto=t}}},tt=Y,et=Object(p["a"])(tt,Q,X,!1,null,"9a2a44de",null),at=et.exports,st=function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex flex-col items-start p-3 shadow-md rounded-lg w-full bg-white"},[e("h1",{staticClass:"text-xl font-bold text-green-500"},[t._v(" Programa de Estudios ")]),e("div",{staticClass:"mt-7"},[e("h1",{staticClass:"text-lg text-blue-500 font-medium"},[t._v(" Datos del programa de estudios ")]),e("div",[e("span",{staticClass:"text-xs ml-2"},[t._v("Programa al que postula")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.escuela_}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Sede/Filial")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.sede_}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Modalidad")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.modalidad_}})])]),e("div",{staticClass:"mt-7 w-full"},[e("div",{staticClass:"mt-5"},[e("vs-input",{staticClass:"w-full capitalize",attrs:{label:"Veces que Postula",value:t.itemSelectedLocal.veces_postula_,readonly:""}}),e("vs-input",{staticClass:"w-full mt-7 capitalize",attrs:{label:"Tiempo de Preparacion",value:t.itemSelectedLocal.tiempo_preparacion_,readonly:""}}),e("span",{staticClass:"text-xs ml-2"},[t._v("Tipo de Preparacion")]),e("input",{staticClass:"w-full bg-gray-100 p-2 px-3 rounded-xl capitalize",attrs:{readonly:"",type:"text"},domProps:{value:t.itemSelectedLocal.tipo_preparacion_}})],1)])])},it=[],lt={props:{item_selected:{type:Object}},data(){return{itemSelectedLocal:{}}},mounted(){this.$store.dispatch("postulante/getPrograma",this.item_selected.id).then(t=>{this.itemSelectedLocal=t})}},ot=lt,nt=Object(p["a"])(ot,st,it,!1,null,"76a8421f",null),rt=nt.exports,ct=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex"},[e("div",{staticClass:"w-full"},t._l(t.requisito_data,(function(a,s){return e("div",{key:s,staticClass:"flex"},[e("vs-checkbox",{attrs:{success:"",val:a},scopedSlots:t._u([{key:"icon",fn:function(){return[e("i",{staticClass:"fas fa-check-double"})]},proxy:!0}],null,!0),model:{value:t.requisitos,callback:function(e){t.requisitos=e},expression:"requisitos"}},[e("div",[t._v(t._s(a.requisito))])]),e("div",{staticClass:"flex gap-2 items-center"},[e("div",{staticClass:"text-xs text-blue-500 cursor-pointer",on:{click:function(e){t.requisitoSelected=a,t.dialogRequisito=!0}}},[e("i",{staticClass:"fas fa-eye cursor-pointer"}),t._v(" Ver ")])])],1)})),0)]),e("div",{staticClass:"mt-5 flex"},[e("vs-button",{staticClass:"focus:outline-none",on:{click:function(e){t.dialogconfirm=!0}}},[t._v(" Guardar ")]),t.imprimir_registro?e("div",[e("reportes",{attrs:{item_selected:t.item_selected}})],1):t._e()],1),t.item_selected?e("div",{staticClass:"flex"},[e("DeclaracionJurada",{attrs:{item_selected:t.item_selected}}),e("ficha-postulante",{attrs:{item_selected:t.item_selected}})],1):t._e(),e("vs-dialog",{attrs:{width:"300px","not-center":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticClass:"not-margin"},[t._v("Confirmar Acci贸n")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"flex justify-between"},[e("div"),e("div",{staticClass:"flex"},[e("vs-button",{attrs:{transparent:""},on:{click:t.save_data}},[t._v(" Si ")]),e("vs-button",{attrs:{dark:"",transparent:""},on:{click:function(e){t.dialogconfirm=!1}}},[t._v(" Cancelar ")])],1)])]},proxy:!0}]),model:{value:t.dialogconfirm,callback:function(e){t.dialogconfirm=e},expression:"dialogconfirm"}},[e("div",{staticClass:"con-content"},[e("span",[t._v("Seguro que desea guardar los requisitos?")])])]),e("vs-dialog",{attrs:{width:"300px","not-center":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticClass:"not-margin"},[t._v("Confirmar Acci贸n")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"flex justify-between"},[e("div"),e("div",{staticClass:"flex"},[e("vs-button",{attrs:{transparent:""},on:{click:function(e){return t.validar_postulante()}}},[t._v(" Si ")]),e("vs-button",{attrs:{dark:"",transparent:""},on:{click:function(e){t.dialogconfirmValidar=!1}}},[t._v(" Cancelar ")])],1)])]},proxy:!0}]),model:{value:t.dialogconfirmValidar,callback:function(e){t.dialogconfirmValidar=e},expression:"dialogconfirmValidar"}},[e("div",{staticClass:"con-content"},[e("span",[t._v("Seguro que desea validar los datos?")])])]),e("vs-dialog",{attrs:{width:"800px",blur:"","not-center":"",id:"dialogRequisito","full-screen":t.openFullScreen},model:{value:t.dialogRequisito,callback:function(e){t.dialogRequisito=e},expression:"dialogRequisito"}},[e("div",{staticClass:"w-full"},[t._l(t.requisito_data,(function(a,s){return e("div",{key:s},[e("div",{class:a===t.requisitoSelected?"block":"hidden"},[e("div",{staticClass:"flex p-2 w-full"},[e("vs-checkbox",{attrs:{success:"",val:t.requisitoSelected},scopedSlots:t._u([{key:"icon",fn:function(){return[e("i",{staticClass:"fas fa-check-double"})]},proxy:!0}],null,!0),model:{value:t.requisitos,callback:function(e){t.requisitos=e},expression:"requisitos"}},[e("div",{staticClass:"text-xs w-auto whitespace-nowrap overflow-ellipsis overflow-hidden"},[e("b",[t._v("Validar: ")]),t._v(" "+t._s(t.requisitoSelected.requisito)+" ")])]),e("div",{staticClass:"flex items-center text-xs"},[e("vs-button",{staticClass:"focus:outline-none",attrs:{icon:"",size:"small",color:"#000",border:""},on:{click:function(e){t.changeDocument=!0}}},[e("i",{staticClass:"fas fa-exchange-alt mr-2"}),t._v(" Cambiar Documento ")]),t.changeDocument?e("div",{staticClass:"p-2 bg-gray-100 rounded-lg"},[e("input",{ref:"file",refInFor:!0,staticClass:"file",attrs:{type:"file",accept:"application/pdf",id:"file"},on:{change:t.cargarNuevoDocumento}}),e("label",{staticClass:"btn btn-tertiary btn-sm",class:t.newRequisito?"cursor-pointer text-blue-500":"cursor-not-allowed",attrs:{disabled:!t.newRequisito},on:{click:t.setNewRequisito}},[e("i",{staticClass:"fas fa-upload"}),t._v(" Subir ")])]):t._e(),t.getRequisitoIndex==t.requisito_data.length-1?e("div",{staticClass:"absolute top-10 right-5"},[e("vs-button",{staticClass:"focus:outline-none",on:{click:function(e){t.dialogconfirm=!0}}},[t._v(" Guardar y cerrar ")])],1):t._e()],1)],1),e("div",{staticClass:"mt-5 mb-2"},[e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"flex justify-end gap-5"},[e("div",{staticClass:"text-xs",class:t.getRequisitoIndex>0?"cursor-pointer hover:underline text-blue-500":"cursor-not-allowed text-gray-400",on:{click:t.setPrevRequisito}},[e("i",{staticClass:"fas fa-arrow-left"}),t._v(" Requisito Aterior ")]),e("div",{staticClass:"text-xs",class:t.getRequisitoIndex<t.requisito_data.length-1?"cursor-pointer hover:underline text-blue-500":"cursor-not-allowed text-gray-400",on:{click:t.setNextRequisito}},[e("i",{staticClass:"fas fa-arrow-right"}),t._v(" Siguiente Requisito ")])])])]),e("div",{class:t.openFullScreen?"h-screen-2":"h-700"},[e("iframe",{staticClass:"w-full h-full",attrs:{src:`https://docs.google.com/gview?url=${t.getBaseUrl}${a.file}&embedded=true`,id:"iframe"}})])])])})),e("div",{staticClass:"absolute bottom-0 mb-5 ml-2"},[e("div",{staticClass:"flex justify-between items-center mt-2.5 p-3 text-white rounded cursor-pointer",staticStyle:{"background-color":"#404040"},on:{click:function(e){t.openFullScreen=!t.openFullScreen}}},[e("div",{staticClass:"flex justify-end"},[e("div",{staticClass:"flex items-center text-xs"},[e("i",{staticClass:"fas fa-expand-alt mr-2"}),t._v(" "+t._s(t.openFullScreen?"Cerrar pantalla completa":"Ver en pantalla completa")+" ")])])])])],2)])],1)},dt=[],ut=function(){var t=this,e=t._self._c;return e("div",[e("vs-button",{staticClass:"focus:outline-none",attrs:{border:"",danger:""},on:{click:function(e){return t.printRegistro()}}},[e("i",{staticClass:"fas fa-file-pdf mr-2"}),t._v(" Imprimir Registro ")])],1)},pt=[],mt={props:{item_selected:{type:Object}},methods:{printRegistro(){let t=this.$router.resolve("/reporte/"+this.item_selected.id);window.open(t.href,"_blank")}}},ft=mt,vt=Object(p["a"])(ft,ut,pt,!1,null,null,null),_t=vt.exports,ht=function(){var t=this,e=t._self._c;return e("div",[e("vs-button",{staticClass:"focus:outline-none",attrs:{border:"",dark:""},on:{click:function(e){return t.printRegistro()}}},[e("i",{staticClass:"fas fa-file-pdf mr-2"}),t._v(" Imprimir Declaraci贸n Jurada ")])],1)},xt=[],gt={props:{item_selected:{type:Object}},data(){return{}},computed:{base_media(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("api/v1/",""),t}},methods:{async printRegistro(){const{data:t}=await n["a"].get("reportes/get-declaracion-jurada",{params:{id:this.item_selected.id}});if(t){var e=document.createElement("a");e.href=this.base_media+t.file,e.target="_blank",e.click()}else alert("Ocurrio un problema")}}},bt=gt,Ct=Object(p["a"])(bt,ht,xt,!1,null,null,null),yt=Ct.exports,wt=function(){var t=this,e=t._self._c;return e("div",[e("vs-button",{staticClass:"focus:outline-none",attrs:{border:"",dark:""},on:{click:function(e){return t.printRegistro()}}},[e("i",{staticClass:"fas fa-file-pdf mr-2"}),t._v(" Imprimir Ficha de Postulante ")])],1)},kt=[],Lt={props:{item_selected:{type:Object}},data(){return{}},computed:{base_media(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("api/v1/",""),t}},methods:{async printRegistro(){const{data:t}=await n["a"].get("reportes/get-ficha-postulante",{params:{id:this.item_selected.id}});if(t){var e=document.createElement("a");e.href=this.base_media+t.file,e.target="_blank",e.click()}else alert("Ocurrio un problema")}}},qt=Lt,$t=Object(p["a"])(qt,wt,kt,!1,null,"66439037",null),St=$t.exports,Pt={components:{Reportes:_t,DeclaracionJurada:yt,FichaPostulante:St},props:{item_selected:{type:Object}},data(){return{requisito_data:[],requisitos:[],dialogconfirm:!1,dialogconfirmValidar:!1,imprimir_registro:!1,dialogRequisito:!1,requisitoSelected:{},changeDocument:!1,newRequisito:null,openFullScreen:!1}},async mounted(){await this.set_requisitos()},computed:{getDocument(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/"),t=t.substring(0,t.length-1),t+=""+this.requisitoSelected.file,`https://docs.google.com/gview?url=${t}&embedded=true`},getBaseUrl(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/"),t=t.substring(0,t.length-1),t},getRequisitoIndex(){return this.requisito_data.findIndex(t=>t.requisito_id==this.requisitoSelected.requisito_id)}},methods:{async save_data(){const t=this.$vs.loading({color:"succcess"});this.dialogconfirm=!1;try{let e=[];this.requisito_data.forEach(t=>{let a={postulante:this.item_selected.id,requisito:t.requisito_id,success:!1},s=this.requisitos.findIndex(e=>e.requisito==t.requisito);s>-1&&(a.success=!0),e.push(a)});const{data:a}=await n["a"].post("save_requisito_postulante/",e);a?(await this.$store.dispatch("postulante/GetDataCreatedModified",this.item_selected.id),this.$vs.notification({title:"Requisitos",text:"Los cambios se realizaron Correctamente! ",color:"success"}),await this.set_requisitos(),this.validarRequisitLocalmente(this.imprimir_registro)):this.$vs.notification({title:"Requisitos",text:"No se pudo realizar la acci贸n! ",color:"warning"})}catch(e){this.$vs.notification({title:"Requisitos",text:"Ocurrio un error!  ",color:"danger"})}finally{t.close(),this.dialogRequisito=!1}},validarRequisitLocalmente(t){this.$store.dispatch("postulante/validar_localmente",{id:this.item_selected.id,is_valid:t})},async set_requisitos(){var t=!1;try{const e=this.item_selected.id,{data:a}=await n["a"].get("get_requisito_by_modalidad/",{params:{postulante:e}});t=!0,this.requisito_data=a,this.requisitos=a.filter(t=>{if(t.success)return t}),t=a.filter(t=>0==t.success).length<=0,this.imprimir_registro=!1,this.imprimir_registro=t}catch(e){this.imprimir_registro=!1}},cargarNuevoDocumento(t){const e=t.target.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=()=>{this.newRequisito=a.result}},setClearInputFile(){this.$refs.file&&(this.$refs.file.value=""),this.newRequisito=null,this.changeDocument=!1},setNextRequisito(){this.setClearInputFile();let t=this.requisito_data.findIndex(t=>t.requisito_id==this.requisitoSelected.requisito_id);if(t>-1){let e=this.requisito_data[t+1];e&&(this.requisitoSelected=e)}},setPrevRequisito(){this.setClearInputFile();let t=this.requisito_data.findIndex(t=>t.requisito_id==this.requisitoSelected.requisito_id);if(t<=-1)return;let e=this.requisito_data[t-1];e&&(this.requisitoSelected=e)},async setNewRequisito(){const t=Object.assign({},this.requisitoSelected,{documento:this.newRequisito}),e=await this.$store.dispatch("postulante/save_postulante_requisito",{postulante_id:this.item_selected.id,requisito:t});this.requisitoSelected.file=e[0].file}}},Dt=Pt,jt=(a("5018"),Object(p["a"])(Dt,ct,dt,!1,null,null,null)),Rt=jt.exports,It={props:{dialog:{type:Boolean},item_selected:{type:Object}},components:{Perfil:at,Info:G,Options:K,Generals:z,Educativas:R,Programa:rt,Requisito:Rt},data(){return{dialogLocal:!1,option:0,item_selected_local:{}}},computed:{data_created_modified(){return this.$store.getters["postulante/get_data_created_modified"]}},watch:{dialog(t){t&&(this.dialogLocal=t,this.$store.dispatch("postulante/getInfoPostulante",this.item_selected.id).then(t=>{this.item_selected_local=t}))},dialogLocal(t){t||(this.option=0,this.item_selected_local={},this.$emit("closedialog"))}}},Ft=It,Et=(a("7c99"),Object(p["a"])(Ft,L,q,!1,null,null,null)),Ot=Et.exports,Nt={components:{List:k,ViewData:Ot},data(){return{dialog:!1,item_selected:null,filters:{modalidad:null,escuela:null,dni:"",filial:null,fecha_ini:null,fecha_fin:null,ingresantes:null},limite:"true",esperando_respuesta:!1,is_mounted:!1,index:0,dataImpresion:[],sede_data:[]}},computed:{get_postulante(){return this.$store.getters["postulante/get_postulante"]},get_auth(){return this.$store.getters["auth/get_auth"]},baseMedia(){let t="https://backend.appadmision-unapiquitos.com/api/v1/";return t=t.replace("/api/v1/","/"),t}},mounted(){this.is_mounted=!0,this.set_sede().then(()=>{this.filterFilial(),this.set_postulante(),this.is_mounted=!1})},methods:{async set_sede(){try{const{data:t}=await n["a"].get("cede");this.sede_data=t}catch(t){return null}},filterFilial(){const t=this.get_auth.username,e=["yurimaguas","contamana","datem","requena"].find(e=>e.trim().toLowerCase()===t.trim().toLowerCase());if(e){const t=this.sede_data.findIndex(t=>t.nombre.trim().toLowerCase()===e.trim().toLowerCase());t>-1&&(this.filters.filial=this.sede_data[t])}},async descargarConstancias(){const t=this.filters.escuela.id,{data:e}=await n["a"].get("reportes/get-constancia-escuela",{params:{escuelaId:t}});var a=document.createElement("a");a.href=this.baseMedia+e.file,a.target="_blank",a.click()},limitEvent(t){this.limite=t,this.set_postulante()},set_postulante(){try{let t=this.filters.dni;t&&(t=t.toString());let e=0;e=this.filters.modalidad?this.filters.modalidad.id:0;let a=0;a=this.filters.escuela?this.filters.escuela.id:0;let s=0;s=this.filters.filial?this.filters.filial.id:0;let i=!1;i=this.filters.ingresantes;let l=this.filters.universidad_procedencia?this.filters.universidad_procedencia.nombre:"";if(l&&(l=l.toString().trim()),this.esperando_respuesta)return;this.esperando_respuesta=!0;let o={dni:t,limit:this.limite,modalidad:e,escuela:a,sede:s,ingresantes:i,universidad_procedencia:l};this.$store.dispatch("postulante/set_postulante",o).then(()=>{this.esperando_respuesta=!1,this.filters.dni!==t&&this.set_postulante()})}catch(t){this.is_mounted&&(this.esperando_respuesta=!0,this.$store.dispatch("postulante/set_postulante",{dni:"",limit:!0}).then(()=>{this.esperando_respuesta=!1}))}},edit(t){"consultor"!==this.get_auth.group&&(this.item_selected=t,this.dialog=!0)}}},zt=Nt,Vt=Object(p["a"])(zt,s,i,!1,null,null,null);e["default"]=Vt.exports}}]);
//# sourceMappingURL=chunk-22968747.ac6fdbb6.js.map