(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a499e"],{"06ac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("list")],1)},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("filtros",{on:{filtros:t.get_vacante_data}}),a("div",{staticClass:" flex justify-between"},[a("div",{staticClass:"mt-3"},[a("vs-button",{staticClass:" focus:outline-none",on:{click:function(e){return t.guardar_cambios()}}},[t._v(" Guardar Cambios ")])],1)]),a("vs-table",{staticClass:" mt-2",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){return[a("vs-checkbox",{attrs:{success:""},scopedSlots:t._u([{key:"icon",fn:function(){return[a("i",{staticClass:"fas fa-check-double"})]},proxy:!0}]),model:{value:t.marcar_todos,callback:function(e){t.marcar_todos=e},expression:"marcar_todos"}},[t._v(" Marcar Todos ")])]},proxy:!0},{key:"thead",fn:function(){return[a("vs-tr",t._l(t.columns,(function(e,s){return a("vs-th",{key:s,attrs:{sort:""},on:{click:function(a){t.vacanteData=t.$vs.sortData(a,t.vacanteData,e.name)}}},[t._v(" "+t._s(e.text)+" ")])})),1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.vacanteData,(function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},t._l(t.columns,(function(n,c){return a("vs-td",{key:c,attrs:{edit:0==c||1==c},on:{click:function(){0!=c&&1!=c||t.$emit("edit",e)}}},["vacante"===n.name?a("tr",[a("vs-checkbox",{attrs:{success:"",val:e},scopedSlots:t._u([{key:"icon",fn:function(){return[a("i",{staticClass:"fas fa-check-double"})]},proxy:!0}],null,!0),model:{value:t.checksData[s],callback:function(e){t.$set(t.checksData,s,e)},expression:"checksData[i]"}})],1):a("tr",[t._v(" "+t._s(e[n.name])+" ")])])})),1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos ðŸ˜¢ ")]},proxy:!0}])})],1)},r=[],o=(a("4160"),a("d81d"),a("159b"),a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" w-full"},[a("div",{staticClass:" flex flex-col"},[a("span",{staticClass:" text-lg font-medium"},[t._v("Filtro de Vacantes")]),a("div",{staticClass:"w- full flex justify-between mt-3 items-center"},[a("span",{staticClass:" w-2/5"},[t._v(" Escuela "),a("v-select",{staticClass:" w-full",attrs:{options:t.get_escuela_select,label:"nombre",index:"id"},model:{value:t.filtros.escuela,callback:function(e){t.$set(t.filtros,"escuela",e)},expression:"filtros.escuela"}})],1),a("div",{staticClass:"mx-2"}),a("span",{staticClass:" w-2/5"},[t._v(" Modalidad "),a("v-select",{staticClass:" w-full",attrs:{options:t.get_modalidad_select,label:"nombre",index:"id"},model:{value:t.filtros.modalidad,callback:function(e){t.$set(t.filtros,"modalidad",e)},expression:"filtros.modalidad"}})],1),a("div",{staticClass:"mx-2"}),a("span",{staticClass:" w-1/5"},[t._v(" Sede/Filial "),a("v-select",{staticClass:" w-full",attrs:{options:t.get_sede_select,label:"nombre",index:"id"},model:{value:t.filtros.sede,callback:function(e){t.$set(t.filtros,"sede",e)},expression:"filtros.sede"}})],1),a("span",[a("vs-button",{staticClass:" focus:outline-none",on:{click:function(e){return t.$emit("filtros",t.filtros)}}},[t._v(" Buscar ")])],1)])])])},l=[],d={data:function(){return{filtros:{escuela:0,modalidad:0,sede:0}}},computed:{get_escuela_select:function(){return this.$store.getters["escuela/get_escuela_select"]},get_modalidad_select:function(){return this.$store.getters["modalidad/get_modalidad_select"]},get_sede_select:function(){return this.$store.getters["sede/get_sede_select"]}},mounted:function(){this.$store.dispatch("escuela/set_escuela"),this.$store.dispatch("modalidad/set_modalidad"),this.$store.dispatch("sede/set_sede")}},u=d,f=a("2877"),v=Object(f["a"])(u,i,l,!1,null,"52bd22e6",null),m=v.exports,_=a("be3b"),p={components:{filtros:m},data:function(){return{filtros:{},columns:[{name:"vacante",text:"Estado"},{name:"escuela",text:"Escuela"},{name:"modalidad",text:"Modalidad"},{name:"sede",text:"Sede"},{name:"cant_vacante",text:"Vacantes"}],vacanteData:[],checksData:[],marcar_todos:!1}},watch:{marcar_todos:function(t){for(var e=0;e<this.checksData.length;e++)this.checksData[e]=t}},methods:{get_vacante_data:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,c,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.filtros=t,s=e.filtros.escuela?e.filtros.escuela.id:0,n=e.filtros.modalidad?e.filtros.modalidad.id:0,c=e.filtros.sede?e.filtros.sede.id:0,a.next=7,_["a"].get("get_vacante_by_modalidad_escuela_sede",{params:{escuela:s,modalidad:n,sede:c}});case 7:r=a.sent,o=r.data,e.checksData=[],e.vacanteData=o,e.vacanteData.forEach((function(t,a){e.checksData[a]=t.vacante})),a.next=17;break;case 14:return a.prev=14,a.t0=a["catch"](0),a.abrupt("return",null);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},guardar_cambios:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$vs.loading({color:"success"}),e.prev=1,!(t.vacanteData.length<=0)){e.next=5;break}return t.$vs.notification({title:"Vacante",text:"No existen datos en la fila! ðŸ˜¢",color:"danger"}),e.abrupt("return");case 5:return s=t.vacanteData.map((function(e,a){return{id:e.id,vacante:t.checksData[a],cant_vacante:e.cant_vacante,modalidad:e.modalidad_id,escuela:e.escuela_id,sede:e.sede_id}})),e.next=8,_["a"].put("vacante/",s);case 8:if(n=e.sent,c=n.status,200==c){e.next=13;break}return t.$vs.notification({title:"Vacante",text:"Ocurrio un problema al guardar los datos! ðŸ˜¢",color:"danger"}),e.abrupt("return");case 13:t.$vs.notification({title:"Vacante",text:"Los datos se guardaron correctamente! ðŸ˜Ž",color:"success"}),e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](1);case 18:return e.prev=18,a.close(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,16,18,21]])})))()}}},h=p,b=Object(f["a"])(h,c,r,!1,null,"34d9afc9",null),x=b.exports,k={components:{List:x}},g=k,w=Object(f["a"])(g,s,n,!1,null,"6b70a30e",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d0a499e.4917a0d2.js.map