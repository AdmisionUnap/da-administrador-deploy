(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("span",{staticClass:"text-3xl font-semibold"},[t._v("Bienvenido al Administrador de DA-UNAP")]),t.bloquear_filial?t._e():e("div",{staticClass:"w-full"},[e("span",{staticClass:"text-xs"},[t._v("Sede/Filial")]),e("v-select",{attrs:{options:t.sede_data,label:"nombre",index:"id"},on:{input:function(e){t.getEscuelaData(),t.getModalidadData()}},model:{value:t.sedeSelected,callback:function(e){t.sedeSelected=e},expression:"sedeSelected"}})],1),t.visible?e("div",{staticClass:"mt-10 flex justify-between flex-col lg:flex-row"},[e("tabla-modalidad",{attrs:{dataList:t.modalidadData}}),e("div",{staticClass:"w-20"}),e("tabla-ecuela",{attrs:{dataList:t.escuelaData},on:{modalidadSelected:e=>{t.modalidadXEscuelasSelected=e,t.getEscuelaData()}}})],1):t._e(),t.visible&&t.showUniversidades?e("div",[e("tabla-universidades",{attrs:{dataList:t.universidadData}})],1):t._e()])},d=[],i=(a("14d9"),function(){var t=this,e=t._self._c;return e("vs-table",{staticClass:"mt-5",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"w-full"},[e("span",{staticClass:"text-xs"},[t._v("Modalidades")]),e("v-select",{attrs:{options:t.modalidadData,label:"nombre",index:"id"},on:{input:function(e){return t.$emit("modalidadSelected",t.modalidadSelected)}},model:{value:t.modalidadSelected,callback:function(e){t.modalidadSelected=e},expression:"modalidadSelected"}})],1),e("div",{staticClass:"flex mt-5"},[e("span",{staticClass:"text-2xl font-medium"},[t._v("Resumen de Escuelas ("+t._s(t.modalidadSelected.nombre)+")")]),e("div",{staticClass:"rounded-lg bg-gray-500 px-1 text-white ml-2"},[e("span",{staticClass:"text-lg font-medium"},[t._v("Total "+t._s(t.get_total))])])])]},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",[e("vs-th",[t._v(" Escuela ")]),e("vs-th",[t._v(" Cantidad ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.dataList,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",[t._v(" "+t._s(a.escuela__nombre)+" ")]),e("vs-td",[t._v(" "+t._s(a.total)+" ")])],1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos ðŸ˜¢ ")]},proxy:!0}])})}),l=[],o={props:{dataList:{type:Array}},data(){return{modalidadData:[],modalidadSelected:{nombre:""}}},mounted(){this.getModalidades()},methods:{async getModalidades(){this.$store.dispatch("modalidad/set_modalidad").then(t=>{this.modalidadData=t,this.modalidadSelected=this.modalidadData[this.modalidadData.length-1],this.$emit("modalidadSelected",this.modalidadSelected)})}},computed:{get_total(){try{let t=0;return this.dataList.forEach(e=>{t+=parseInt(e.total)}),t}catch(t){return 0}},get_auth(){return this.$store.getters["auth/get_auth"]}}},n=o,r=a("2877"),u=Object(r["a"])(n,i,l,!1,null,null,null),c=u.exports,h=function(){var t=this,e=t._self._c;return e("vs-table",{staticClass:"mt-5",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"flex"},[e("span",{staticClass:"text-2xl font-medium"},[t._v("Resumen de Modalidades")]),e("div",{staticClass:"rounded-lg bg-gray-500 px-1 text-white ml-2"},[e("span",{staticClass:"text-lg font-medium"},[t._v("Total "+t._s(t.get_total))])])])]},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",[e("vs-th",[t._v(" Modalidad ")]),e("vs-th",[t._v(" Cantidad ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.dataList,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",[t._v(" "+t._s(a.modalidad__nombre)+" ")]),e("vs-td",[t._v(" "+t._s(a.total)+" ")])],1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos ðŸ˜¢ ")]},proxy:!0}])})},m=[],_={props:{dataList:{type:Array}},computed:{get_total(){try{let t=0;return this.dataList.forEach(e=>{t+=parseInt(e.total)}),t}catch(t){return 0}}}},v=_,p=Object(r["a"])(v,h,m,!1,null,null,null),f=p.exports,g=a("be3b"),x=function(){var t=this,e=t._self._c;return e("vs-table",{staticClass:"mt-5",attrs:{striped:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"flex"},[e("span",{staticClass:"text-2xl font-medium"},[t._v("Resumen por Universidades (Trasladao Extraordinario)")]),e("div",{staticClass:"rounded-lg bg-gray-500 px-1 text-white ml-2"},[e("span",{staticClass:"text-lg font-medium"},[t._v("Total "+t._s(t.get_total))])])])]},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",[e("vs-th",[t._v(" Universidad Procedencia ")]),e("vs-th",[t._v(" Cantidad ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.dataList,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",[t._v(" "+t._s(a.universidad_procedencia)+" ")]),e("vs-td",[t._v(" "+t._s(a.count)+" ")])],1)}))},proxy:!0},{key:"notFound",fn:function(){return[t._v(" No existen datos ðŸ˜¢ ")]},proxy:!0}])})},b=[],y={props:{dataList:{type:Array}},data(){return{}},computed:{get_total(){try{let t=0;return this.dataList.forEach(e=>{t+=parseInt(e.count)}),t}catch(t){return 0}}}},C=y,S=Object(r["a"])(C,x,b,!1,null,null,null),w=S.exports,D={components:{TablaModalidad:f,TablaEcuela:c,TablaUniversidades:w},data(){return{visible:!1,sede_data:[],bloquear_filial:!1,sedeSelected:{},escuelaData:[],modalidadData:[],universidadData:[],modalidadXEscuelasSelected:{},showUniversidades:!0}},computed:{get_auth(){return this.$store.getters["auth/get_auth"]}},async mounted(){setTimeout(async()=>{this.visible="administrador"==this.get_auth.group||"sede"==this.get_auth.group||"consultor"==this.get_auth.group,await this.set_sede(),this.filterFilial(),this.getEscuelaData(),this.getModalidadData(),this.getSumatoriaUniversidades()},1e3)},methods:{async getSumatoriaUniversidades(){try{const{data:t}=await g["a"].get("get_reporte_sumatoria_universidades");this.universidadData=t,this.showUniversidades=this.universidadData.length>0}catch(t){}},getEscuelaData(){let t=this.sedeSelected.nombre?this.sedeSelected.nombre.toLowerCase():"";t="todos"==t?"":t;const e=this.modalidadXEscuelasSelected.codigo||"",a={sede:t,modalidad:e};g["a"].get("get_reporte_sumatoria_ecuelas",{params:a}).then(t=>{const{data:e}=t;this.escuelaData=e})},getModalidadData(){let t=this.sedeSelected.nombre?this.sedeSelected.nombre.toLowerCase():"";t="todos"==t?"":t,g["a"].get("get_reporte_sumatoria_modalidades",{params:{sede:t}}).then(t=>{const{data:e}=t;this.modalidadData=e})},async set_sede(){try{const{data:t}=await g["a"].get("cede");this.sede_data=t,this.visible&&this.sede_data.push({id:0,nombre:"TODOS"}),this.sedeSelected=this.sede_data[this.sede_data.length-1]}catch(t){return null}},filterFilial(){const t=this.get_auth.username,e=["yurimaguas","contamana","datem","requena"].find(e=>e.trim().toLowerCase()==t.trim().toLowerCase());if(e){const t=this.sede_data.findIndex(t=>t.nombre.trim().toLowerCase()==e.trim().toLowerCase());t>-1&&(this.sedeSelected=this.sede_data[t],this.bloquear_filial=t>-1)}}}},k=D,L=Object(r["a"])(k,s,d,!1,null,null,null);e["default"]=L.exports}}]);
//# sourceMappingURL=chunk-2d21a3d2.72784252.js.map